<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Excel学习笔记</title>
    <url>/posts/438c10d4/</url>
    <content><![CDATA[<p>个人对Excel的态度经历过几次转变。研究生入学前后学了点excel的一些高级函数（vlookup啥的），录制点宏啥的，感觉excel还是蛮方便的。等到自己实际处理数据时，发现只要数据破万，excel做起来就很慢，右下角显示%4、%5，慢慢等待，也干不了别的，甚至有的时候显示未响应，又得重头来，这时候就可能在心里默默地喊一句excel垃圾。之后学了些python啥的，就开始逐渐抛弃excel了，基本不用excel做任何复杂处理，主要就是显示数据。现在逐渐感觉，每种语言或工具还是有它的独到之处，没有什么最优秀之说，只有适不适合。当数据量小，而且只做一些比较简单的处理或分析时，excel依然时最快的。<br>本部分均是学习刘伟老师的Excel的系列课程，本文是根据本人的知识情况进行整理，详细可前往B站或其他网站观看视频课程。</p>
<h1 id="Excel-2016基础"><a href="#Excel-2016基础" class="headerlink" title="Excel 2016基础"></a>Excel 2016基础</h1><p>这里我个人觉得比较简单，就提取了一些之前不知道的点。</p>
<h2 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h2><ul>
<li>ctrl+滑轮     改变excel显示比例。发现这个同样适用浏览器和其他软件</li>
<li>ctrl+enter  区域填充。先选中要填充的区域，在第一个单元格输入公式或数据后，按此快捷键。</li>
<li>alt+enter   单元格内换行</li>
<li>ctrl+A        选中区域。鼠标放在某个数据区域内，一次ctrl+A选中区域，两次ctrl+A选中工作表。</li>
<li>ctrl+G        定位快捷键。</li>
</ul>
<h2 id="其他快捷操作"><a href="#其他快捷操作" class="headerlink" title="其他快捷操作"></a>其他快捷操作</h2><ul>
<li><strong>快速填充</strong> 。第一个单元格输入值后填充，右下选择快速填充，excel会比较<strong>智能</strong>地根据第一个单元格的形式填充。如下图所示，点击快速填充后即可提取个体号中的场代码。<br><img src="quick_tianchong.png"></li>
<li>公式迅速转为数值：鼠标<strong>右键</strong>该列右边框，向右边移动一列，再移回来，在弹出的对话框里显示仅复制数值。</li>
<li>对区域进行自动求和，选中包括数据和预计求和空白区域的区域，点击开始菜单栏的自动求和，即可看见空白区域为每行每列的和。有点绕，见下图<br><img src="area_sum.png"></li>
</ul>
<h2 id="小知识"><a href="#小知识" class="headerlink" title="小知识"></a>小知识</h2><ul>
<li>excel显示的值与真实值可以不一样，但是实际运算是按照真实值计算的。<ul>
<li>例如对数字1.23456，选择单元格形式为数值（小数点保留2位），可以看到单元格已经显示为1.23，但是你点击该单元格，上方的编辑栏依然显示为1.23456</li>
<li>只有使用ROUND函数，才是真正改变了数值。</li>
</ul>
</li>
<li>数值型数字与文本型数字<ul>
<li>数值型数字：最长15位，超过15位后多余的位数在excel中自动变0，并用科学计数法表示</li>
<li>文本型数字：一般用于身份证号码等，只能计数，不能参与运算。</li>
<li>最简单的区别是对齐方式，文本格式数据<strong>靠左对齐</strong>，数值型数据<strong>靠右对齐</strong></li>
</ul>
</li>
<li>Excel 自动恢复并不靠谱，仅能在Excel本身出故障时起到一点作用，还是需要手动保存。这里，推荐一个VBA代码，可以直接保存打开的所有excel工作簿：<a href="https://www.extendoffice.com/zh-CN/documents/excel/2971-excel-save-all-open-files.html">一键保存所有打开工作簿</a>。</li>
<li>excel中日期的本质也是数字，将1900/01/01设为1，1900/01/02为2。一天是1，一个小时是1/24，以此类推。</li>
</ul>
<h1 id="Excel-公式与函数"><a href="#Excel-公式与函数" class="headerlink" title="Excel 公式与函数"></a>Excel 公式与函数</h1><p>Excel个人感觉掌握几个用的比较多的函数就够了，比如VLOOKUP，SUMIF，COUNTIF。太复杂的函数或函数嵌套，个人感觉没有必要学，有点鸡肋。</p>
<h2 id="小知识-1"><a href="#小知识-1" class="headerlink" title="小知识"></a>小知识</h2><ul>
<li>函数中需要引用字符串时，只能使用<strong>双引号</strong>，不能使用单引号。</li>
<li>在逻辑判断中，所有<strong>非0数值</strong>均认为是<strong>TRUE</strong>，只有0表示FALSE。</li>
<li>ctrl+左键选择多列后，右键插入下一行，会在列与列之间插入空行。</li>
<li>多条件判断。个人比较喜欢用第二种方式<ul>
<li>AND(条件1，条件2)  = 条件1 * 条件2</li>
<li>OR（条件1，条件2）=条件1 + 条件2</li>
</ul>
</li>
<li>删除空格：使用替换，原值输入一个空格，替换的值什么也不输入即可。</li>
</ul>
<h2 id="vlookup"><a href="#vlookup" class="headerlink" title="vlookup"></a>vlookup</h2><p>vlookup 最后一个参数，</p>
<blockquote>
<p>如果选择TRUE（模糊匹配），那么要求查找区域必须按<strong>升序</strong>排列。如果匹配不到原值，那么查找区域会匹配比原值<strong>小</strong>的最大值。这种情况比较适合查找值为数字，例如纳税，5000-6000是x，那高于5000低于6000的纳税比例都是x。<br>如果选择FALSE（精确匹配），此时查找区域无需排序，必须匹配原值。个人主要是用精确匹配。</p>
</blockquote>
<h2 id="countif-s-与-sumif-s"><a href="#countif-s-与-sumif-s" class="headerlink" title="countif(s) 与 sumif(s)"></a>countif(s) 与 sumif(s)</h2><p>按条件计数或求和，加s可以按多条件匹配，很实用。</p>
<h2 id="find-left-mid-right"><a href="#find-left-mid-right" class="headerlink" title="find + left/mid/right"></a>find + left/mid/right</h2><p>find与search函数几乎是一样的，都是返回查找字符的索引（从1开始计数）,唯一区别就是<strong>find区分大小写</strong>，而search不区分大小写。<br>估计find函数的使用也就是配合 left/mid/right这三个函数提取子字符串。如下，提取A1单元格（地址）的省份信息（光用left不够，因为不同省份字数不同，比如黑龙江就三个字）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">B1&#x3D;LEFT(A1,FIND(&quot;省&quot;,A1))</span><br></pre></td></tr></table></figure>

<h2 id="英文处理"><a href="#英文处理" class="headerlink" title="英文处理"></a>英文处理</h2><ul>
<li>proper 函数： 英文首字母大写</li>
<li>upper  函数：一律大写</li>
<li>lower   函数：一律小写</li>
</ul>
<h2 id="判断单元格类型"><a href="#判断单元格类型" class="headerlink" title="判断单元格类型"></a>判断单元格类型</h2><ul>
<li>ISTEXT：        是否为文本</li>
<li>ISNUMBER：是否为数值</li>
</ul>
<h2 id="数组计算"><a href="#数组计算" class="headerlink" title="数组计算"></a>数组计算</h2><ul>
<li><strong>F9</strong> 显示数组计算时的值（个人用于合并单元格内容）</li>
<li><strong>ctrl+shift+enter</strong> 数组计算</li>
</ul>
<h1 id="Excel-宏"><a href="#Excel-宏" class="headerlink" title="Excel 宏"></a>Excel 宏</h1><p>宏和VBA在实质上是相通的。个人感觉VBA有点鸡肋，对我而言，现在不太需要录制宏了。原因很简单，我不用Excel进行复杂的操作，自动也用不上宏了。</p>
<h2 id="小知识-2"><a href="#小知识-2" class="headerlink" title="小知识"></a>小知识</h2><ul>
<li><p>相对引用与绝对引用。录制宏的时候可按需要切换引用方式。</p>
</li>
<li><p>录制宏与选择区域的顺序问题</p>
<ul>
<li><strong>先选择区域，再录制宏</strong>：一般这么做</li>
<li>先录制宏，再选择区域：无法更改选择区域，死的。</li>
</ul>
</li>
<li><p>逐条语句运行</p>
<ul>
<li>选择VBA界面的<strong>调试</strong>中的逐语句</li>
<li>F8快捷键</li>
</ul>
</li>
<li><p>屏蔽宏运行过程</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">application.screenupdating &#x3D; False</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <tags>
        <tag>数据分析</tag>
        <tag>软件学习</tag>
      </tags>
  </entry>
  <entry>
    <title>notpad++学习笔记</title>
    <url>/posts/897384da/</url>
    <content><![CDATA[<p>notpad++是一款功能强大的文本编辑器。我一开始用的就是这个软件，感觉基本能满足我的所有需求。</p>
<h1 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h1><h2 id="常规快捷键"><a href="#常规快捷键" class="headerlink" title="常规快捷键"></a>常规快捷键</h2><ul>
<li>ctrl + Z  &amp; ctrl + Y ** 撤销与恢复**</li>
<li>ctrl + F  &amp; ctrl + H <strong>查找与替换</strong></li>
<li>ctrl + D 复制并黏贴当行（光标所在行）</li>
<li>ctrl + D 复制并快速黏贴多行（光标选中多行）</li>
<li>ctrl + L 删除当前行</li>
<li>shift + tab 删除缩进</li>
<li>ctrl + G <strong>快速跳到某一行</strong> </li>
<li>ctrl + tab 多个文件中切换（与谷歌一致）</li>
</ul>
<h2 id="文件操作快捷键"><a href="#文件操作快捷键" class="headerlink" title="文件操作快捷键"></a>文件操作快捷键</h2><ul>
<li>ctrl + S 保存当前文档</li>
<li>ctrl + alt + S 另存为</li>
<li>ctrl + shift + S <strong>保存所有文件</strong> </li>
<li>ctrl + w 关闭当前</li>
<li>ctrl + p 打印（转为pdf）</li>
</ul>
<h2 id="文本编辑"><a href="#文本编辑" class="headerlink" title="文本编辑"></a>文本编辑</h2><ul>
<li>Alt + C <strong>列编辑</strong>模式（在某一列插入相同的文字或数字）</li>
<li>ctrl + k <strong>注释</strong>（可选中多行，而且notpad++会根据文件类型添加相符合的注释符号）</li>
<li>ctrl + shift + k 取消注释</li>
</ul>
<h2 id="其他快捷键"><a href="#其他快捷键" class="headerlink" title="其他快捷键"></a>其他快捷键</h2><ul>
<li><strong>块匹配</strong>：选择一个括号，按ctrl+b会跳转到与它对应的另外一半括号处。</li>
</ul>
<h1 id="其他功能"><a href="#其他功能" class="headerlink" title="其他功能"></a>其他功能</h1><h2 id="颜色标记"><a href="#颜色标记" class="headerlink" title="颜色标记"></a>颜色标记</h2><p>就是给内容用不同的颜色做标记，用法就是选择要标记的文本然后点击右键-&gt;Style token，选择一个标记即可。也可以通过点击右键选择删除颜色标记Remove style。</p>
<h2 id="将tab转换成空格"><a href="#将tab转换成空格" class="headerlink" title="将tab转换成空格"></a>将tab转换成空格</h2><blockquote>
<p>编程中一般都不允许使用Tab键作为缩进而是使用空格，但是Tab键确实方便。<br>在首选项-&gt;语 言页面可以选择“以空格代替Tab”，同时可以配置一个Tab键替换成几个空格。</p>
</blockquote>
<h2 id="显示符号"><a href="#显示符号" class="headerlink" title="显示符号"></a>显示符号</h2><p>在视图-显示符号中，可以显示空格、制表键、换行等。空格显示为**.<strong>，制表键显示为向右的箭头。linux格式的换行符显示为LF，windows格式的换行符显示为</strong>CRLF**。</p>
<h2 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h2><p>这个比较实用。在设置-首选项-备份-备份与自动完成，选择<strong>简单备份</strong>。这样notpad++在编辑一个文件，会默认生成一个同名的<strong>bak</strong>文件。</p>
<h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><p>notpad++有很多相应的插件，比如一款TextFX的插件，可以删除文件中的空行、插入行号或删除行号等。</p>
<h1 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h1><ul>
<li>notpad++通过后缀名判断文件类型，并实现<strong>代码高亮</strong>。如果文件无后缀，那么也无法实现自动代码高亮。可通过设置<strong>语言</strong>选项，实现未知类型文件的语法高亮。</li>
<li>通过<strong>格式</strong>选项，可查看和转换当前文件字符编码。</li>
<li>在其他地方修改文件后，notpad++会自动更新文件，并通知<strong>此文件已被其他程序修改了，是否重新加载</strong>。在首选项-其他中，勾选<strong>自动更新文件</strong>，关闭该通知。</li>
</ul>
<h1 id="参考网页"><a href="#参考网页" class="headerlink" title="参考网页"></a>参考网页</h1><p><a href="http://shouce.jb51.net/notepad_book/">http://shouce.jb51.net/notepad_book/</a><br><a href="https://blog.51cto.com/caochun/1530273">https://blog.51cto.com/caochun/1530273</a></p>
]]></content>
      <tags>
        <tag>软件学习</tag>
      </tags>
  </entry>
  <entry>
    <title>win10快捷键</title>
    <url>/posts/26dc69f9/</url>
    <content><![CDATA[<h2 id="虚拟桌面"><a href="#虚拟桌面" class="headerlink" title="虚拟桌面"></a>虚拟桌面</h2><p>win + ctrl+ D：** 创建虚拟桌面**<br>win + ctrl + 左右箭头：** 切换虚拟桌面**<br>win + ctrl + F4: <strong>关闭当前虚拟桌面</strong></p>
<h2 id="应用管理"><a href="#应用管理" class="headerlink" title="应用管理"></a>应用管理</h2><p>win + M: <strong>最小化所有应用</strong><br>ctrl + alt + tab(或win + tab) : <strong>显示所有打开应用</strong><br>win + 1-9: 快速打开应用</p>
<h2 id="当电脑卡死时"><a href="#当电脑卡死时" class="headerlink" title="当电脑卡死时"></a>当电脑卡死时</h2><p>ctrl + shift + esc: <strong>打开任务管理器</strong>（关闭卡死的程序，<strong>实用</strong>）<br>ctrl + alt + delete: windows救命三键<br>win + R后输入[ shutdown -r ]重启 或 [ shutdown -s ] 关机</p>
<h2 id="打开文件夹"><a href="#打开文件夹" class="headerlink" title="打开文件夹"></a>打开文件夹</h2><p>win + E: 资源管理器</p>
<p>shift + delete : 永久删除文件</p>
<h2 id="锁屏"><a href="#锁屏" class="headerlink" title="锁屏"></a>锁屏</h2><p>win + l</p>
<h2 id="查看剪贴板"><a href="#查看剪贴板" class="headerlink" title="查看剪贴板"></a>查看剪贴板</h2><p>win + v</p>
<h2 id="参考网页"><a href="#参考网页" class="headerlink" title="参考网页"></a>参考网页</h2><p><a href="https://www.bilibili.com/video/av64127316">https://www.bilibili.com/video/av64127316</a><br><a href="https://baike.baidu.com/item/Windows%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/407192?fr=aladdin">https://baike.baidu.com/item/Windows%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/407192?fr=aladdin</a></p>
]]></content>
      <tags>
        <tag>软件学习</tag>
      </tags>
  </entry>
  <entry>
    <title>word排版学习笔记</title>
    <url>/posts/821c2099/</url>
    <content><![CDATA[<p>之前用word里包含十几个表，排版简直要吐血！而且更变态的是，不知道为什么，你调整其中的一个表，其他的表的格式却莫名其妙地乱了（一脸懵逼）。更让我难以接受的是，有的时候word报错其中一个表格已损坏，然后如果你没有备份的话，就一夜回到解放前。<br>以上种种，让我已经坚定了要抛弃word的想法，用latex和markdown替代它。不过最近还是在B站看到了word排版的学习视频，那还是学一下吧！<br>本文学习视频来自于<a href="https://www.bilibili.com/video/av64031582">word论文排版技巧</a></p>
<h1 id="快速设置三线表"><a href="#快速设置三线表" class="headerlink" title="快速设置三线表"></a>快速设置三线表</h1><p>在一个表格内选择，在表格工具设计工具栏新建<strong>样式</strong>。修改样式名称，在格式应用于<strong>整个表格</strong>，修改右下角<strong>格式</strong>的边框属性、字体、<strong>边框和底纹</strong>（上下框线）。之后，将格式应用于<strong>标题行</strong>，修改<strong>格式</strong>的边框和底纹（下框线，上框线需要重新设置）。</p>
<ul>
<li>使用时，选中表格，点击该样式</li>
<li>右击该样式，可将该设置为默认，<strong>实用</strong>（这样把表格复制过来就是三线表）。</li>
<li>还需要手动调节表格工具-布局-对齐方式（<strong>文字居中</strong>），或<strong>自动调整</strong><br><img src="yangshi.png"></li>
</ul>
<h1 id="样式的概念"><a href="#样式的概念" class="headerlink" title="样式的概念"></a>样式的概念</h1><blockquote>
<p>开始工具栏中右键<strong>样式</strong>-修改，可修改所有应用该样式的文本。<br>另一种快捷方式是，修改某一个应用该样式的文本，右击样式，更新 ** 以匹配所选内容 </p>
</blockquote>
<h1 id="标题的自动编号"><a href="#标题的自动编号" class="headerlink" title="标题的自动编号"></a>标题的自动编号</h1><p>自动编号的好处是如果后面需要增删章节，不用手动修改。</p>
<ul>
<li>先写好文章标题和内容，标题不要写前缀，第一章或1.1什么的。点击段落中的多级列表（默认为1级，可点击<strong>更改列表级别</strong>）。然后右击样式，更新 ** 以匹配所选内容 </li>
<li>修改编号：点击<strong>定义新的多级列表</strong> ，可以在输入编号的格式中添加文字，此级别的编号样式可以选择简体中文。<br><img src="many_list.png"></li>
</ul>
<h1 id="正文样式"><a href="#正文样式" class="headerlink" title="正文样式"></a>正文样式</h1><p>直接修改正文样式可能会导致标题等样式的改变，右击标题样式-修改，发现样式基础是正文。<br>作者给出的解决方法是新建一个样式，命名为<strong>0_正文</strong>，将所有的正文在这里进行修改。</p>
<ul>
<li>行距最好使用倍数，而尽量不用多少磅，不然图片显示可能出问题。</li>
</ul>
<h1 id="图名、表明的设置与引用-7P"><a href="#图名、表明的设置与引用-7P" class="headerlink" title="图名、表明的设置与引用 7P"></a>图名、表明的设置与引用 7P</h1><p>比较复杂，放弃写了。打算自己以后直接看视频，这还比较简单。见谅。</p>
<h1 id="分页符与分节符-8P"><a href="#分页符与分节符-8P" class="headerlink" title="分页符与分节符 8P"></a>分页符与分节符 8P</h1><p>分页符，固定分页，比如下一章<br>分节符，使不同节的<strong>页眉</strong>可以不一致。</p>
<h1 id="目录-9P"><a href="#目录-9P" class="headerlink" title="目录 9P"></a>目录 9P</h1><h1 id="页眉与页脚的设置-10P"><a href="#页眉与页脚的设置-10P" class="headerlink" title="页眉与页脚的设置 10P"></a>页眉与页脚的设置 10P</h1><h1 id="公式的编号与引用"><a href="#公式的编号与引用" class="headerlink" title="公式的编号与引用"></a>公式的编号与引用</h1><p>mathtype 插件</p>
<h1 id="参考文献-NE"><a href="#参考文献-NE" class="headerlink" title="参考文献-NE"></a>参考文献-NE</h1><ul>
<li>插入多篇文献：在NE中使用shift或ctrl选中多篇文献</li>
<li>修改后更新编号：点击格式化</li>
<li>清除域代码前备份一份。<strong>必须保留一份含有域代码的文件</strong>，清除域代码的文件仅作为上交材料。</li>
</ul>
]]></content>
      <tags>
        <tag>软件学习</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-原序</title>
    <url>/posts/48e2ba4b/</url>
    <content><![CDATA[<blockquote>
<p>匠臣舆者，忧人不贵；做箭者，恐人不伤。彼其有爱憎哉？实技业驱之然耳。是知当代之士、驰骛之曹，书读纵横，则思诸侯之变；艺长奇正，则念风尘之会。此亦向时之论，必然之理矣。故先师孔子深探其本、忧其末，遂作《春秋》，大乎工道；制《孝经》，美乎德行。防萌杜渐，预有所抑。</p>
<p>斯圣人制作之本意也。</p>
<p>然作法于理，其弊必乱。若至于乱，将焉救之？是以御世理人，罕闻沿袭。三代不同礼，五霸不同法。非其相反，盖以救弊也。是故国容一致，而忠文之道必殊；圣哲同风，而皇王之名或异。岂非随时投教沿乎此，因物成务牵乎彼？沿乎此者，醇薄继于所遭；牵乎彼者，王霸存于所遇。故古之理者，其政有三：王者之政化之；霸者之政威之；强国之政胁之。各有所施，不可易也。管子曰：“圣人能辅时不能违时。智者善谋，不如当时。”邹之曰：“政教文质，所以匡救也。当时则用之，过则舍之。”由此观之，当霸者之朝而行王者之化，则悖矣。当强国之世而行霸者之威，则乖矣。若时逢狙诈，正道陵夷，欲宪章先王，广陈德化，是犹待越客以拯溺，白大人以救火（等待水性好的人来救溺水者，请求尊贵的人来救火）。善则善矣，岂所谓通于时变欤？</p>
<p>夫霸者， 驳道也，盖白黑杂合，不纯用德焉。期于所成，不问所以；论于大体，不守小节。虽称仁引义不及三王，扶颠定倾，其归一揆。恐儒者溺于所闻，不知王霸殊略，故叙以长短术，以经论通变者，并立题目总六十有三篇，合为十卷，名曰《反经》。大旨在乎宁固根蒂，革易时弊，兴亡治乱。</p>
<p>具载诸篇，为沿袭之远图，作经济之至道，非欲矫世夸欲，希声慕名。辄露见闻，逗机来哲。凡厥有位，幸望详焉。</p>
</blockquote>
<p>《反经》是我最喜欢的古文书，这篇序就很先声夺人，不明觉厉。拜服老祖宗的智慧！</p>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>一份（不太）简短的LaTex介绍学习笔记</title>
    <url>/posts/9ab4ff8e/</url>
    <content><![CDATA[<h1 id="第一章-LaTeX-须知"><a href="#第一章-LaTeX-须知" class="headerlink" title="第一章 LaTeX 须知"></a>第一章 LaTeX 须知</h1><p>本书的别名叫做106分钟了解LaTeX，但是要看完根本不止106分钟，更别说理解了。暂时先看到第四章。</p>
<h3 id="Tex"><a href="#Tex" class="headerlink" title="Tex"></a>Tex</h3><blockquote>
<p>TEX是高德纳(Donald E.Knuth)开发的、以排版文字和数学公式为目的的一个计算机软件。高德纳从1977年开始开发TEX，以发掘当时开始用于出版工业的数字印刷设备的潜力。正在编写著作《计算机程序设计艺术》的高德纳，意图扭转排版质量每况愈下的状况，以免影响他的出书。TEX排版引擎发布于1982年，在1989年又加以改进以更好地支持8-bit字符和多语言排版。TEX以其卓越的稳定性、跨平台、几乎没有Bug而著称。TEX的版本号不断趋近于π，当前为3.141592653</p>
</blockquote>
<h3 id="LaTex"><a href="#LaTex" class="headerlink" title="LaTex"></a>LaTex</h3><blockquote>
<p>LATEX为TEX基础上的一套格式，令作者能够使用预定义的专业格式以较高质量排版和印刷他们的作品。LATEX的最初开发者为Leslie Lamport博士。LATEX使用TEX程序作为自己的排版引擎。当前LATEX由LATEX3工作组1维护。</p>
</blockquote>
<h3 id="引擎、格式和编译命令"><a href="#引擎、格式和编译命令" class="headerlink" title="引擎、格式和编译命令"></a>引擎、格式和编译命令</h3><ul>
<li><strong>引擎</strong>     是编译源代码并生成文档的程序，如pdfTeX，XeTeX等。有时也称为编译器。</li>
<li><strong>格式</strong>    是定义了一组命令的代码集，最广泛应用的一个格式就是latex，另外，还有一个简版的plain tex</li>
<li><strong>编译命令</strong> 是实际调用的，结合了引擎和格式的命令，如xelatex和pdflatex。</li>
</ul>
<h3 id="latex用到的文件"><a href="#latex用到的文件" class="headerlink" title="latex用到的文件"></a>latex用到的文件</h3><ul>
<li><strong>.sty</strong> 宏包文件</li>
<li><strong>.cls</strong> 文档类文件</li>
<li><strong>.bib</strong> 参考文献数据库文件</li>
<li><strong>.bst</strong> 参考文献格式模板</li>
</ul>
<h3 id="latex编译中生成的文件"><a href="#latex编译中生成的文件" class="headerlink" title="latex编译中生成的文件"></a>latex编译中生成的文件</h3><ul>
<li><strong>.log</strong> 日志</li>
<li><strong>.aux</strong> 主辅助文件，记录交叉引用、目录和参考文献的引用等。</li>
<li><strong>.toc</strong> 目录记录文件</li>
<li><strong>.lof</strong> 图片目录记录文件</li>
<li><strong>.lotLATEX</strong> 生成的表格目录记录文件。</li>
<li>.bbl  BIBTEX生成的参考文献记录文件。</li>
<li>.blg  BIBTEX生成的日志文件。</li>
<li>.idx  LATEX生成的供makeindex处理的索引记录文件。</li>
<li>.ind  makeindex 处理.idx生成的用于排版的格式化索引文件。</li>
<li>.ilg  makeindex生成的日志文件。</li>
<li>.out  hyperref宏包生成的PDF书签记录文件。</li>
</ul>
<h3 id="include-与-input"><a href="#include-与-input" class="headerlink" title="\include 与 \input"></a>\include 与 \input</h3><ul>
<li>\include{ <em>filename</em> }  插入其他文件（不在同一目录需加路径），<strong>会另起一页</strong>。</li>
<li>\input{ <em>filename</em>} 一样，但是不会另起一页。</li>
</ul>
<h1 id="用LaTeX-排版文字"><a href="#用LaTeX-排版文字" class="headerlink" title="用LaTeX 排版文字"></a>用LaTeX 排版文字</h1><p>作者对排版中文文档的建议是，使用ctex文档类型、源代码保存为<strong>UTF-8</strong>编码、编译时使用<strong>xelatex</strong>命令</p>
<h3 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h3><p>latex命令和pdflatex命令下，可以使用<strong>inputenc</strong>宏包支持UTF-8编码：</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\usepackage</span>[utf8]&#123;inputenc&#125;</span><br></pre></td></tr></table></figure>
<p>xelatex和lualatex命令原生支持UTF-8编码。</p>
<h3 id="排版中文"><a href="#排版中文" class="headerlink" title="排版中文"></a>排版中文</h3><p>ctex 文档包括ctexart 、ctexrep、ctexbook，是目前最新的排版中文的方式（老的我不太想知道了）。</p>
<h3 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h3><ul>
<li>多个连续空格或tab键均视为一个空格。</li>
<li>每行开头的空格忽略不计、</li>
<li><strong>行末的回车</strong>视为一个空格</li>
</ul>
<h3 id="分段"><a href="#分段" class="headerlink" title="分段"></a>分段</h3><ul>
<li>连续<strong>两个回车</strong>，也就是空一行，会分段。</li>
<li>多个空行仍视为一个空行</li>
<li><strong>\par</strong>命名分段</li>
</ul>
<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><ul>
<li><strong>%</strong></li>
</ul>
<h3 id="特殊字符"><a href="#特殊字符" class="headerlink" title="特殊字符"></a>特殊字符</h3><p>以下字符具有特殊用途，如需直接输入这些字符，需使用 *<em>*</em> 转义<br># $ % &amp; { } _ ^ ~ \</p>
<p>注： \为手动换行，因此输入反斜线为<strong>\textbackslash</strong></p>
<h3 id="标点符号"><a href="#标点符号" class="headerlink" title="标点符号"></a>标点符号</h3><ul>
<li>中文标点符号直接输入即可</li>
<li>英文双引号输入<strong>两个单引号</strong></li>
<li>连字符<ul>
<li>单个连字符**-**就是自身</li>
<li>两个连字符**–**连接数字表示范围</li>
<li>三个连字符**—**作为破折号—使用</li>
</ul>
</li>
<li>省略号 <strong>\ldots</strong> 和 <strong>\dots</strong> 表示输入三个点。</li>
<li>波浪号 <strong>-</strong> <strong>\sim</strong></li>
</ul>
<h3 id="文字强调"><a href="#文字强调" class="headerlink" title="文字强调"></a>文字强调</h3><ul>
<li>\underline{} 下划线</li>
<li>\emph{}        斜体</li>
</ul>
<h3 id="断行"><a href="#断行" class="headerlink" title="断行"></a>断行</h3><ul>
<li>*<em>\*</em> 进行断行。</li>
<li>用**-**插入不会断行的空格（高德纳称之为tie），常用于英文人名、图表名称等。</li>
</ul>
<h3 id="断页"><a href="#断页" class="headerlink" title="断页"></a>断页</h3><ul>
<li><strong>\newpage</strong>  <strong>\clearpage</strong></li>
</ul>
<h1 id="文档元素"><a href="#文档元素" class="headerlink" title="文档元素"></a>文档元素</h1><h3 id="章节题目"><a href="#章节题目" class="headerlink" title="章节题目"></a>章节题目</h3><ul>
<li>\chapter{} <strong>只在 book 和 report 文档类有定义</strong></li>
<li>\section{}  \subsection{} \subsubsection{} \paragraph{} \subparagraph{}</li>
<li>命令变体<ul>
<li>带可选参数的变体：\section[short title]{title}<br>标题使用title 参数，在目录和页眉页脚中使用short title参数</li>
<li>带星号的变体：\section*{title}<br>标题不带编号，也不生成目录项和页眉页脚</li>
</ul>
</li>
<li>article 文档类<strong>带编号</strong>的层级为 \section \subsection \subsubsection 三项</li>
<li>report/book 文档类<strong>带编号</strong>的层级为 \chapter \section \subsection</li>
</ul>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><ul>
<li>使用命令<strong>\tableofcontents</strong> 生成目录</li>
<li>正确生成目录，一般需要编译两次源代码</li>
</ul>
<h3 id="标题页"><a href="#标题页" class="headerlink" title="标题页"></a>标题页</h3><p>latex 支持生成简单的标题页。首先需要给定标题和作者等信息：前两个命令必需，date命令可选。</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\title</span>&#123;⟨title⟩&#125;   <span class="keyword">\author</span>&#123;⟨author⟩&#125;   <span class="keyword">\date</span>&#123;⟨date⟩&#125;</span><br></pre></td></tr></table></figure>
<p>之后就可以使用 \maketitle 生成一个简单的标题页了。<br>article 文档类的标题默认不单独成页。</p>
<h3 id="交叉引用"><a href="#交叉引用" class="headerlink" title="交叉引用"></a>交叉引用</h3><p>在能够被交叉引用的地方，如章节、公式、图表、定理等位置使用\label命令：</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\label</span>&#123;⟨label-name⟩&#125;</span><br></pre></td></tr></table></figure>
<p>之后，可以在别处使用\ref和\pageref命令，分别生成交叉引用的编号和页码：</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\ref</span>&#123;⟨label-name⟩&#125;   <span class="keyword">\pageref</span>&#123;⟨label-name⟩&#125;</span><br></pre></td></tr></table></figure>
<p>为了生成正确的交叉引用，一般需要<strong>多次编译源代码</strong>。<br>对于使用不记编号的命令形式（\section*,\caption），<strong>不要使用\label命令</strong>，否则生成的引用编号不正确。</p>
<h3 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h3><p>脚注就是在页脚的位置写上注释，一般使用\footnote命令。</p>
<h1 id="特殊环境"><a href="#特殊环境" class="headerlink" title="特殊环境"></a>特殊环境</h1><h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><h3 id="有序列表"><a href="#有序列表" class="headerlink" title="有序列表"></a>有序列表</h3><p>基本命令是enumerate。item中包含一个可选参数，将列表符号改成自定义的符号，如\item[*]。<br>列表可以嵌套使用，最多嵌套四层。</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;enumerate&#125;</span><br><span class="line">	<span class="keyword">\item</span>. . .</span><br><span class="line"><span class="keyword">\end</span>&#123;enumerate&#125;</span><br></pre></td></tr></table></figure>

<h3 id="无序列表"><a href="#无序列表" class="headerlink" title="无序列表"></a>无序列表</h3><p>无序列表的基本命令为itemize，格式同上。</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;itemize&#125;</span><br><span class="line">	<span class="keyword">\item</span>. . .</span><br><span class="line"><span class="keyword">\end</span>&#123;itemize&#125;</span><br></pre></td></tr></table></figure>

<h2 id="对齐环境"><a href="#对齐环境" class="headerlink" title="对齐环境"></a>对齐环境</h2><p>文本对齐方式可用以下命令分别生成居中、左对齐和右对齐的文本环境。</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;center&#125;. . .<span class="keyword">\end</span>&#123;center&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;flushleft&#125;. . .<span class="keyword">\end</span>&#123;flushleft&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;flushright&#125;. . .<span class="keyword">\end</span>&#123;flushright&#125;</span><br></pre></td></tr></table></figure>
<p>另外，如果只改变一句文本的对齐方式，可直接使用以下命令</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\centering</span>   <span class="keyword">\raggedright</span>   <span class="keyword">\raggedleft</span></span><br></pre></td></tr></table></figure>

<h2 id="引用环境"><a href="#引用环境" class="headerlink" title="引用环境"></a>引用环境</h2><ul>
<li><strong>quote</strong>环境用于引用较短的文字，首行不缩进。</li>
<li><strong>quotation</strong>环境用于引用若干段文字，首行缩进。</li>
<li>不论是quote或quotation,引用环境相较于一般文字均有额外的左右缩进。</li>
</ul>
<h2 id="代码环境"><a href="#代码环境" class="headerlink" title="代码环境"></a>代码环境</h2><p>有时我们需要将一段代码原样输出，这时需用到代码环境verbatim。</p>
<ul>
<li>verbatim* 环境会将空格显示为␣</li>
<li>只排版一行代码，可使用\verb命令，delim表明代码的边界，习惯使用|符号。</li>
</ul>
 <figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\verb</span>⟨<span class="string">delim⟩</span>⟨code⟩⟨delim⟩</span><br></pre></td></tr></table></figure>

<h2 id="表格环境"><a href="#表格环境" class="headerlink" title="表格环境"></a>表格环境</h2><p>latex直接排版表格感觉比较复杂，不是很实用。大量的表格排版还是需要R语言相应的函数包的支持。<br>最基本的tabular环境用法如下，其中⟨column-spec⟩是列格式标记（通常使用|c|表示居中）；&amp;用来分隔单元格；\用来换行；\hline用来在行与行之间绘制横线。<br>注意：表格中每行的单元格数目不能多于列格式里l/c/r(左/居中/右对齐)的总数（可以少于这个总数）。</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>&#123;tablular&#125;&#123;&lt;column-spec&gt;&#125;</span><br><span class="line">&lt;item1&gt; <span class="built_in">&amp;</span> &lt;item2&gt; <span class="built_in">&amp;</span> ... <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span> </span><br><span class="line">&lt;item1&gt; <span class="built_in">&amp;</span> &lt;item2&gt; <span class="built_in">&amp;</span> ... <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>&#123;tabular&#125;</span><br></pre></td></tr></table></figure>

<h2 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h2><p>LaTex本身不支持插图功能，需要调用graphicx宏包辅助支持。<br>各种编译方式支持的图片格式如下图（xelatex最好）<br><img src="graphicx.png"><br>在调用了graphicx宏包后，就可以使用以下命令加载图片了。其中filename为文件名，不在同一路径时，需使用相对路径或绝对路径。可选参数如下图。</p>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\includegraphics</span>[⟨options⟩]&#123;⟨filename⟩&#125;</span><br></pre></td></tr></table></figure>
<p><img src="includegraphics.png"></p>
<h1 id="排版数学公式"><a href="#排版数学公式" class="headerlink" title="排版数学公式"></a>排版数学公式</h1>]]></content>
      <tags>
        <tag>LaTex</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第一卷大政-任长</title>
    <url>/posts/4553ed87/</url>
    <content><![CDATA[<blockquote>
<p>臣闻料才核能，治世之要。自非圣人，谁能兼兹百行，备贯众理乎？故舜合群司，随才授位；汉述功臣，三杰异称。况非此俦，而可备责耶？</p>
</blockquote>
<blockquote>
<p>夫刚略之人，不能理微，故其论大体则弘略而高远，历纤理微则宕往而疏越；亢厉之人，不能回挠，其论法直则括据而公正，说变通则否戾而不入；宽恕之人，不能速捷，论仁义则弘详而长雅，趋时务则迟缓而不及；好奇之人，横逸而求异，造诡谲则倜傥而瑰壮，案清道则诡常而恢迂。</p>
<p>又曰：王化之政，宜于统大，以之理小则迂；策术之政，宜于理难，以之理平则无奇；矫亢之政，宜于治侈，以之治弊则残；公刻之政，宜于纠奸，以之治边则失其众；威猛之政，宜于讨乱，以之治善则暴；伎俩之政，宜于治富，以之治贫则民劳而下困。此已上皆偏材也。</p>
</blockquote>
<blockquote>
<p>魏武诏曰：“进取之士，未必能有行。有行之士，未必能进取。陈平岂笃行，苏秦岂守信耶？而陈平定汉业，苏秦济弱燕者，任其长也。”</p>
<p>由此观之，使韩信下帏，仲舒当戎，于公驰说，陆贾听讼，必无曩时之勋，而显今日之名也。故“任长”之道，不可不察。</p>
</blockquote>
<blockquote>
<p>议曰：魏恒范云：“帝王用人，度世授才。争夺之时，书策为先。分定之后，忠义为首。故晋文行舅犯之计而赏雍季之言，高祖用陈平之智而托后于周勃。” 古语云：“守文之代，德高者位尊；仓促之时，功多者赏厚。”  诸葛亮曰：“老子长于养性，不可以临危难；商鞅长于理法，不可以从教化。苏张长于驰辞，不可以结盟誓；白起长于攻取，不可以广众；子胥长于图敌，不可以谋身；尾生长于守信，不可以应变；王嘉长于遇明君，不可以事暗主；许子将长于明臧否，不可以养人物。”  此任长之术也。</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第一卷p大政-品目</title>
    <url>/posts/a8d66a27/</url>
    <content><![CDATA[<blockquote>
<p>夫天下重器，王者大统，莫不劳聪明于品材，或安逸于任使。故孔子曰：“人有五仪：有庸人，有士人，有君子，有圣，有贤。审此五者，则治道毕矣。”</p>
<p>所谓庸人者，心不存慎终之规，口不吐训格之言，不择贤以托身，不力行以自定，见小暗大而不知所务，从物如流而不知所执。此则庸人也。</p>
<p>所谓士人者，心有所定，计有所守。虽不能尽道术之术，必有率也；虽不能遍百善之美，必有处也。是故智不务多，务审其所知；言不务多，务审其所谓【所谓，言之要也】；行不务多，务审其所由。智既知之，言既得之【得其要也】，行既由之，则若性命形骸之不可易也。富贵不足以益，贫贱不足以损，此则士人也。</p>
<p>所谓君子者，言必忠信而心不忌【忌，怨害也】，仁义在身而色不伐，思虑通明而辞不专，笃行信道，自强不息，油然若将可越而终不及者。此君子也。【孙卿曰：“夫君子能为可贵，不能使人必贵己；能为可信，不能使人必信己；能为可用，不能使人必用己。故君子耻不修，不耻见污；耻不信，不耻不见信；耻不能，不耻不见用。不诱于誉，不怨于诽，率道而行，端然正己，谓之君子也。”】</p>
<p>所谓贤者，德不逾闲【闲，法也】，行中规绳，言足法于天下而不伤于其身【言满天下，无口过也】，道足化于百姓而不伤于本【本亦身也】，富则天下无菀财【菀：积】，施则天下无病贫。此谓贤者也。</p>
<p>所谓圣者，德合天地，变通无方，究万物之终始，协庶品之自然，敷其大道而遂成情性，明立日月，化行若神，下民不知其德，睹者不识其邻。此圣者也。</p>
</blockquote>
<blockquote>
<p>清节之流，不能弘恕，好尚讥诃，分别是非，是谓臧否。子夏之徒是也。法家之流，不能创思图远，而能受一官之任，错意施巧，是为伎俩。张敞、赵广汉是也。术家之流，不能创制垂则，而能遭变用权。权智有余，公正不足，是谓智意。陈平、韩安国是也。能文著述，是谓文章，司马迁、班固是也。能传圣人之业，而不能干事施政，是谓儒学。毛公、贯公是也。辩不入道，而应对给资，是谓口辩。乐毅、曹丘生是也。胆力绝众，才略过人，是谓骁雄。白起、韩信是也。</p>
</blockquote>
<blockquote>
<p>《家语》曰：“昔者明王必尽知天下良士之名，既知其名，又知其实，然后用天下之爵以尊之，则天下理也。”此之谓矣。</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第一卷大政-大体</title>
    <url>/posts/112d874c/</url>
    <content><![CDATA[<blockquote>
<p>臣闻老子曰：“以正理国，以奇用兵，以无事取天下。”荀卿曰：“人主者，以官人为能者也；匹夫者，以自能为能也。”</p>
</blockquote>
<blockquote>
<p>《人物志》曰：“夫一官之任，以一味协五味；一国之政，以无味协五味。故臣以自任为能；君以能用人为能。臣以能言为能；君以能听为能。臣以能行为能；君以能赏罚为能。所以不同，故能君众能也。”</p>
</blockquote>
<blockquote>
<p>故曰，知人者，王道也；知事者，臣道也；无形者，物之君也；无端者，事之本也。鼓不预五音，而为五音主；有道者，不为五官之事，而为理事之主。君守其道，官知其事，有自来矣。</p>
<p>先王知其如此也，故用非其有如己有之，通乎君道者也。</p>
</blockquote>
<blockquote>
<p>议曰：《淮南子》云：“巧匠为宫室，为圆必以规，为方必以矩，为平直必以准绳。功已就矣，而不知规矩准绳，而赏巧匠。宫室已成，不知巧匠，而皆曰某君某王之宫室也。”</p>
<p>孙卿曰：“夫人主故欲得善射中微，则莫若使羿；欲得善御致远，则莫若使王良；欲得调一天下，则莫若聪明君子矣。其用智甚简，其为事不劳，而功名甚大。”此能用其非其有如已有者也。</p>
</blockquote>
<blockquote>
<p>人主不通主道者则不然。自为之则不能任贤，不能任贤，则贤者恶之，此功名之所以伤，国家之所以危。</p>
</blockquote>
<blockquote>
<p>议曰：“《申之》云：君知其道也，臣知其事也。十言十当，百言百当者，人臣之事也，非人君之道也。”《尸子》云：“人臣者，以进贤为功也；君者，以用贤为功也。”</p>
</blockquote>
<blockquote>
<p>汤武一日而尽有夏商之财，以其地封，而天下莫敢不悦服；以其财赏，而天下皆竞劝，通乎用非其有也。</p>
</blockquote>
<blockquote>
<p>议曰：孙卿曰：“修礼者王，为政者强，取人者安，聚敛者亡。故王者富人；霸者富士；仅存之国富大夫；亡国者富筐箧、实府库。是谓上溢下漏。” 又曰：“天子不言多少，诸侯不言利害，大夫不言得失。”</p>
</blockquote>
<blockquote>
<p>魏文侯御廪灾，素服避正殿，群臣皆哭。公子成夫趋入贺曰：“臣闻天子藏于四海；诸侯藏于境内。非其所藏，必有火灾，必有人患。幸无人患，不亦善乎。”  孔子曰：“百姓足，君孰与不足？” 由此言之，夫圣王以其地封，以其财赏，不与人争利，乃能通于主道，是用非其有者也。</p>
</blockquote>
<blockquote>
<p>故称，设官分职，君之体也；委任责成，君之体也；好谋无倦，君之体也；宽以得众，君之体也；含垢藏疾，君之体也。君有君人之体，其臣畏而爱之，此帝王所以成业也。</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第一卷大政-察相</title>
    <url>/posts/3e46a22e/</url>
    <content><![CDATA[<p>这里的“相”除了长相，骨骼等，还指的是人的形态、举止。</p>
<blockquote>
<p>富贵在于骨法，忧喜在于容色，成败在于决断。由此参之，万不失一。</p>
</blockquote>
<blockquote>
<p>言性灵者存乎容止。斯其大体。</p>
</blockquote>
<blockquote>
<p>夫人有六贱：<br>头小身大，为一贱 【又曰：额角陷缺，天中洼下，亦为一贱。】<br>目无光泽，为二贱【又曰：胸背俱薄，亦为二贱。《经》曰：陷胸薄尻及猴目，皆穷相也】。<br>举动不使，为三贱【又曰：声音雌散，亦为三贱。夫人不笑似笑，不嗔似嗔，不喜似喜，不畏似畏，不醉似醉，常如宿醒，不愁似愁，常如忧戚，容貌缺乏，如经痫病，神色凄怆，常如有失，举止张皇，恒如趋急，言语涩缩，若有隐藏，体貌低催，如遭凌辱，此并神不足者也。神不足者，多牢狱厄。有官隐藏而失，有位贬逐而黜者也。<br>鼻不成就，准向前低，为四贱<br>脚长腰短，为五贱<br>文策不成，唇细横长，为六贱。【又曰：多言少信，亦为六贱。<br>此贵贱存乎骨骼者也。</p>
</blockquote>
<p>译文解释：相面要从身体结构的整体上把握，绝不能只见树木、不见森林。大凡人的姿容，都以“整”为贵。这个“整”指的并不是整齐划一，而是人体的各个部位都要匀称、均衡，从而构成一个和谐有机的整体。比如个子矮的人不能太胖；个子高的人不能太瘦，不然就像一根茅草或电线杆。背部应该浑圆而厚实，腹部应该突出而平坦，手部应该温润而柔软，脚应该丰厚而饱满，足心应该虚能藏蛋 – 这也是所谓的“整”。</p>
<blockquote>
<p>昔姑布之卿谓子贡曰：“郑东门有一人，其长九尺六寸，河目而龙颜，其头似尧，其颈似皋陶，其肩似子产，然自腰以下不及禹三寸，垒然若丧家之犬。”</p>
</blockquote>
<p>译文：郑国东门的这个人虽然有尧一样的头颅，皋陶一样的脖颈，子产一样的肩膀，然而由于腿太短，所以像一只丧家之犬。这就是因为此人的相貌违反了“整”的原则。</p>
<blockquote>
<p>夫命之与相，犹声之与响也。声动乎几响，穷乎应，必然之理也。虽云以言信行，失之宰予，以貌度性，失之子羽。然《传》称：“无忧而戚，忧必及之；无庆而乐，乐必还之。” 此心有先动而神有先知，则色有先见。故扁鹊见桓公，知其将亡；申叔见巫臣，知其窃妻。或跃马膳珍，或飞而食肉，或早隶晚侯，或初刑末王。铜岩无饱生，玉馔终乎饿死。则彼度表扪骨，指色摘理，不可诬也。故列云尔。</p>
</blockquote>
<p>这一篇我原来当作糟粕，现在想想也很有道理的。长相、身高等确实是天生，但是形态、举止等是可以后天改变的，是可以教化的。按峰老师的说法，以貌取人仍然是最简单最直接的方法。人的内心的情志一定会通过外貌和举止来体现出来，而且更多的时候我们也只能通过人的外貌、形态和举止对其它人做出一个判断。</p>
<p>比如目光无泽、举动不使（译文，行为举止看着力不从心）就说明这个人意志薄弱（神不足）。就像这种情况，就完全是可以通过增强意志、锻炼身体等方式进行改变的。</p>
<p>其实这篇对我的意义在于，一是说明了以貌取人虽然不见得对，但是仍然是有道理的；二是要认识到自身形态举止的缺点，进行针对性的改造，以最大实现“整体”的和谐。</p>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第一卷大政-政体</title>
    <url>/posts/a3353214/</url>
    <content><![CDATA[<blockquote>
<p>【议曰：夫政理，得人则心，失人则毁。故首简才，次论政体也。】</p>
</blockquote>
<blockquote>
<p>措国于不倾之地，有德也。</p>
</blockquote>
<blockquote>
<p>积於不涸之仓，务五谷也。</p>
</blockquote>
<blockquote>
<p>下令于流水之原，以顺人心也。</p>
<p>尉缭子曰：“令，所以一众心也。不审所出，则数变，数变则令虽出，众不信也。出令之法虽有小过，无更，则众不二听，即令行矣。”</p>
</blockquote>
<blockquote>
<p>使士于不诤之官，使人各为其所长也</p>
<p>孙卿曰：“相高下，序五谷，君子不如农人；通财货，辩贵贱，君子不如贾人；设规矩，便备用，君子不如工人。若夫论德而定次，量能而授官，言必当理，事必当务，然后君子之所长。”</p>
<p>文子曰：“力胜其任即举之，不重也；能务其事则为之，不难也。”</p>
</blockquote>
<p>这里的“诤” 解释为不争夺权势，个人感觉根据下文说不通，解释为不让人争论更好，即举官应该做到让人无法非议。</p>
<blockquote>
<p>明必死之路，严刑罚也。</p>
<p>议曰：孔子曰：“上失其道而杀其下，非礼也。” 故三军大败，不斩；狱*不治，不可刑。何也？上教之不行，罪不在人故也。夫慢令致诛，贼也；征敛无时，暴也；不诫责成，虐也。政无此三者，然后刑，即可也。陈道德以先服之，犹不可，则尚贤以劝之，又不可，则废。不能以惮之，而犹有邪人不从化者，然后待之以刑矣。“</p>
</blockquote>
<blockquote>
<p>开必得之门，信庆赏也。</p>
</blockquote>
<blockquote>
<p>不为不可成，量人力也。</p>
<p>文子曰：”夫债少易偿也，职寡易守也，任轻易劝也。上操约少之分，下效易为之功，是以为君为臣久而不相厌也。末世之法，高为量而罪不及，重为任而罚不胜，危为难而诛不敢。人困于三责，即饰智以诈上，虽峻法严刑，不能禁其奸也。“</p>
</blockquote>
<blockquote>
<p>不求不可得，不强人以其所恶也。</p>
<p>故其称曰：”政“者，政之所行，在顺人心，政之所废，在逆人心。夫人恶忧劳，我逸乐之；人恶贫贱，我富贵之；人恶危坠，我存安之；人恶绝灭，我生育之。能逸乐之，则人为之忧劳；能富贵之，则人为之贫贱；能存安之，则人为之危坠；能生育之，则人为之绝灭。故从其四欲，则远者自亲，行其四恶，则近者亦叛。</p>
</blockquote>
<blockquote>
<p>不处不可久，不偷取一世宜也。</p>
</blockquote>
<blockquote>
<p>知时者，可立以为长。</p>
<p>范蠡曰：” 时不至不可强生，事不容不可强成。“ 管子曰：” 圣人能辅时，不能违时。“ 《语》曰：”圣人修备以待时也。“ </p>
</blockquote>
<blockquote>
<p>审于时，察于用，而能备官者，可奉以为君。</p>
<p>管仲曰：” 大位不仁，不可授以国柄；见贤不让，不可与尊位；罚避亲戚，不可使主兵；不好本事，不可与都邑。“ 又曰：” 使贤者食于能，则上尊崇；斗士食于功，则卒轻死。使二者设于国，则天下理。“ </p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第一卷大政-知人</title>
    <url>/posts/2dee69f0/</url>
    <content><![CDATA[<blockquote>
<p>臣闻主将之法，务览英雄之心。然人未易知，知人未易。 汉光武聪听之主也，谬于庞萌；曹孟德知人之哲也，弊于张邈。何则？夫物类者，世之惑乱也。故曰：狙者类智而非智也，愚者类君子而非君子也，戆者类勇而非勇也。亡国之主似智；亡国之臣似忠；幽莠之幼似禾；骊牛之黄似虎；白骨疑象；碔砆类玉。此皆似是而非也。</p>
<p>《人物志》曰：”轻诺似烈而寡信；多易似能而无效；进锐似精而去速；诃者似察而事烦；许施似惠而无终；面从似忠而退违。此似是而非者也。亦有似非而是者：大权似奸而有功；大智似愚而内明；博爱似虚而实厚；正言似讦而情忠。非天下之至精，孰能得其实也？“</p>
</blockquote>
<blockquote>
<p>孔子曰：”凡人心险于山川，难知于天。天犹有春夏秋冬旦暮之期，人者厚貌深情，故有貌愿而益，有长若不肖，有顺怀而达，有坚而缦，有缓而钅干。“ 太公曰：”士有严而不肖者，有温良而为盗者，有外貌恭敬中心欺慢者，有精精而无情者，有威威而无成者，有如敢断而不能断者，有恍恍惚惚而反忠实者，有倭倭拖拖而有效者，有貌勇狠而内怯者，有梦梦而反易人者。无使不至，无使不遂，天下所贱，圣人所贵，凡人莫知，惟有大明，乃见其际。“ 此士之外貌不与中情相应者也。</p>
</blockquote>
<blockquote>
<p>知士者而有水焉。微察问之，以观其辞；穷之以辞，以观其变，与之间谋，以观其诚；明白显问，以观其德；远使以财，以观其廉；试之以色，以观其贞；告之以难，以观其勇；<strong>醉之以酒，以观其态</strong>。</p>
</blockquote>
<blockquote>
<p>《庄子》曰：”远使之而观其忠；近使之而观其敬；<strong>烦使之而观其能</strong>；<strong>卒然问焉而观其智</strong>；急与之期而观其信；杂之以处而观其色。</p>
</blockquote>
<p>简单地说，就是需要通过实践来验证一个人的才能和品格。</p>
<blockquote>
<p>桓范曰：“夫务名者不能出己之后，是故性同而材倾则相援而相赖也，性同而势均则相竞而相害也。” 此为同体之变，不可不察也。</p>
</blockquote>
<blockquote>
<p>夫圣贤所美，莫美乎聪明。聪明之所贵，莫贵乎知人。知人识智，则众材得其序，而庶绩之业兴矣。…… 察其所安，观其所由，以知居止之行。率此道也，人焉庾哉，人焉庾哉？</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第一卷大政-论士</title>
    <url>/posts/b8f1ee07/</url>
    <content><![CDATA[<blockquote>
<p> 《书》曰：“能自得师者王。” 何以明之？齐宣王见颜触曰：“触前。” 触亦曰：“王前。” 宣王作色曰：“王者贵乎？士者贵乎” ……</p>
<p>宣王左右曰：“大王据千乘之地，而建千石之钟，东西南北，莫敢不服。今夫士之高者，乃称匹夫，徒步而处于农亩，下则鄙野、监门、闾里。士之贱也，亦甚矣。” 触曰：“古大禹之时，诸侯万国。舜起农亩而为天子。及汤之时，诸侯三千。当今之世，南面称寡人则，乃四世。由此观之，非得失之策与？稍稍诛灭，灭亡无族之时，欲为监门、闾里，安可得哉？《易传》不云乎：‘居上位，未得其实。’ 故无其实而喜居名者削；无其德而望其福者约；无其功而受其禄者辱，祸必掘。故曰：‘ 矜功不立，虚愿不至。’ 至皆夸其名华而无其实德也。是以尧有九佐，舜有十友，禹有五丞，汤有三辅，自古及今，而能虚成名于天下者，无有。是以君王无羞亟问，不愧下学，而成其道。老子曰：‘ 虽贵，必以贱为本；虽高，必以下为基。’ 是以侯王称孤、寡人、不谷。夫孤寡者，困贱、下位者也，而侯王以是谓，岂非下人而尊贵士与？夫尧传舜，舜传禹，周成王传周公旦，而世世称名，实以明乎士之贵也。“</p>
<p>谚曰：”浴不必江海，要之去垢；马不必骐骥，要之善走；士不必贤也，要之知道；女不必贵种，要之贞好。“ 何以明之？淳于髡谓齐宣王曰：”古者好马，王亦好马；古者好味，王亦好味；古者好色，王亦好色；古者好士，王独不好。“ 王曰：” 国无士耳。有则寡人亦悦之。“ 髡曰：” 古有骅骝，今之无有，王选于众，王好马矣；古有豹像之胎，今之无有，王选于众，王好味矣；古有毛嫱、西施，今之无有，王选于众，王好色矣；王必待尧舜禹汤之士，而后好之，则尧舜禹汤之士，亦不好王矣。“</p>
<p>《淮南》曰：”待腰袅、飞兔而后驾，则世莫乘车矣；待西施、洛浦而后妃，则终身不家矣。然不待古之英隽而自足者，因其所有而遂用之也。“</p>
<p>郭隗说燕昭王曰：” 帝者与师处，王者与友处，霸者与臣处，亡国与厮役处。诎指而事之，北面受学，则百己者至；先趋而后息，先问而后默，则什己者至；人趋己趋，则若己者至；凭几据杖，眄视指使，则厮役之人至；恣睢奋击，呴藉叱咄，则徒隶之人至矣。“此乃古之服道致士者也。</p>
<p>黄石公曰：”礼者，士之所归；赏者，士之所死。招其所归，示其所死，则所求者至矣。“</p>
</blockquote>
<blockquote>
<p>【议曰：世之善恶，难得而知，苟非其人，莫见其际，何者？夫文章为武人所嗤，未必鄙也；为扬、马所嗤，此真鄙也。夫人臣为桀、纣所毁，未必为愚也；必若尧舜所毁，此真愚也。世之毁誉不足信也。故曰：不夜出，安知有夜行人？太公曰：“ 智与众同，非人师也；伎与众同，非国工。” 老子曰：“下士闻道，大笑之，不笑不足以为道。” 故曰：凡人所贱，圣人所贵。信矣哉！】</p>
</blockquote>
<blockquote>
<p>《语》曰：”知人未易，人未易知。“ </p>
</blockquote>
<blockquote>
<p>《语》曰：”夫有国之主，不可谓举国无深谋之臣，合朝无智策之士，在听察所考精与不精，审与不审耳。“ …… 天下之国，莫不皆有忠臣谋士也。</p>
<p>议曰：天下无灾害，虽有贤德，无所施材。老子曰：”大道废，有仁义；国家混乱，有忠诚。《淮南子》曰：”未有其功而知其贤者，唯尧之知舜也；功成事立而知其贤者，市人之知舜也。“ …… 故曰：“贤、不肖者，才也；遇与不遇者，时也。” 诚哉，是言也。</p>
</blockquote>
<blockquote>
<p> 黄石公曰：”罗其英雄，则敌国穷。夫英雄者，国家之干；士民者，国家之半。得其干，收其半，则政行而无怨。知人者哲，唯帝难之。“ 慎哉！</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第一卷大政-量才</title>
    <url>/posts/c7a98fc8/</url>
    <content><![CDATA[<blockquote>
<p>孙武曰：“主孰有道？”</p>
<p>昔汉王见围荥阳，谓陈平曰：“天下纷纷，何时定乎？“ 平曰：”项王为人恭敬爱人，士之廉节好礼者多归之。至于行功赏爵邑，重之，士亦以此不附。今大王慢人少礼，士之愚钝嗜利无耻者亦多归汉。诚宜各去两短，集其两长，天下指麾即定矣。“</p>
<p>魏太祖谓郭嘉曰：”袁本初地广兵强，吾欲讨之，力不能敌，何如？“ 嘉对曰：”刘，项之不敌，公所知也，汉祖惟智胜。项羽虽强，终为所擒。嘉窃料之，绍有十败，公有十胜，虽兵强，无能为也。绍繁礼多仪，公体任自然。此道胜一也。绍虽兵强，绍以逆动，公奉顺以率天下，此义胜二也。汉末政失于宽，绍以宽济，故不摄；公纠之以猛，而上下，而上下知制，此治胜三也。绍外宽内忌，用人而旋疑之，所任唯亲戚子弟耳；公外简易而内机明，用人无疑，唯才能所宜，不问远近，此度胜四也。绍多计少决，失在事后；公策得辄行，应变无穷，此谋胜五也。绍因累世之资，高议揖让，以收名誉，士之好言饰外者多归之；公至心待人，推诚而行之，不为虚美，以俭率下，与有功者无所吝，士之忠正远见而有实者皆愿为用，此德胜六也。绍见人饥寒，恤念之情形于颜色，其所不见，虑或不及，所谓妇人之仁耳；公于目前小事，时有所忽，至于大事，于四海相接，恩之所加，皆过其望，虽所不见，虑之所周，无不济也，此仁胜七也。绍大臣争权，谗言惑乱；公御下以道，浸润而行，此明胜八也。绍是非不可知；公所是进之以礼，所不是正之以法，以文胜九也。绍好为虚势，不知兵要；公以少克众，用兵如神，军人恃之，敌人畏之，此武胜十也。“ 曹公曰：”吾知之，绍为人志大而智小，色厉而胆薄，忌刻而少威，兵多而分画不明，将骄而政令不一，土地虽广，粮食虽丰，适所以谓吾奉也。“ 杨阜曰：”袁公宽而不断，好谋而少决。不断而无威，少决则后事。今虽强，终为所擒。曹公有雄才远略，决机无疑，法一兵精，必能济大事也。“</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第三卷权变-反经</title>
    <url>/posts/7d0687a0/</url>
    <content><![CDATA[<blockquote>
<p>《韩诗外传》曰：“夫士有五反，有势尊贵不以爱人行义理，而反以暴傲。” ——【 反贵也。古语曰：” 富能富人者，欲贫不可得；贵能贵人者，欲贱不可得；达能达人者，欲穷不可得。“ 梅福曰：“ 存人所以自立也；壅人所以自塞也。” 】</p>
<p>家富厚不以振穷救不足，而反以侈靡无度。 —— 【反富也。】</p>
<p>资勇悍不以卫上攻战，而反以侵凌私斗。 —— 【反勇也。凡将帅轻去就者，不可使镇边，使仁德守之则安矣。】</p>
<p>心智慧不以端计教，而反以事奸饰非。 —— 【反智慧也。《说苑》曰：“ 君子之权谋正，小人之权谋邪。” 】</p>
<p>貌美好不以统朝莅人，而反以盅女从欲。 —— 【反貌也。】</p>
<p>此五者，所谓士失其美质。</p>
</blockquote>
<blockquote>
<p>太公曰：“明罚使人畏慑，人畏慑则变故出。 —— 【反明罚也。】 明察使人扰，人扰则人徙，人徙则不安其处，易以成变。” —— 【反明察也。】 太公曰：“ 明赏则不足，不足则怨长。明王理人，不知所好，而知所恶；不知所归，而知所去。使人各安其所生，而天下静矣。” </p>
<p>晋刘颂曰：“ 凡监司欲举大而略小，何则？ 夫细过微阙，谬忘之失，此人情所必有，所固不许在不犯之地，而悉纠以法，则朝野无立人。此所谓以治而乱也。”</p>
<p>韩子曰：“儒者以文乱法，侠者以武犯禁。“ </p>
<p>慎子曰：” 忠未足以救乱代而适足以重非。** 。然则孝子不生慈父之义【六亲不和有孝慈】，而忠臣不生于圣君之下【国家昏乱有忠臣】。故明主之使其臣也，忠不得过职，而职不得过官。 —— 【反忠也]</p>
</blockquote>
<p>这段话我的理解，如果不是因为国家昏乱，则个人的忠名不显。而个人的忠名越显，反而越彰显出国家昏乱（如果只是敢于进言而无助于事），因此“适足以重非”。</p>
<blockquote>
<p>跖之徒问于跖曰：“盗亦有道乎？” 跖曰：” 何适而无有道耶？夫妄意室中之藏，圣也。入先，勇也。出后，义也。知可否，智也。分均，仁也。五者不备而能成大盗者，天下未之有也。“</p>
</blockquote>
<blockquote>
<p>由是观之，善人不得圣人之道不立，盗跖不得圣人之道不行。天下之善人少而不善人多，则圣人之利天下也少而害天下也多矣。 —— 【反仁义也。】</p>
</blockquote>
<blockquote>
<p>汉武时，河间献王来朝，造次必于仁义。武帝色然难之，谓曰：” 汤以七十里，文王以百里，王其勉之！” 王知其意，归即纵酒。</p>
<p>由是言之，夫仁义兼济，必有分乃可。故尸子曰：“ 君臣父子，上下长幼，贵贱亲疏，皆得其分理。爱得分曰仁。施得分曰义。虑得分曰智。动得分曰适。言得分曰信。皆得其分而后为成人。” </p>
<p>由是言之，跖徒之仁义非其分矣。</p>
</blockquote>
<blockquote>
<p>由是言之，夫仁义礼乐、名法刑赏、忠孝贤智之道，文武明察之端，无隐于人，而常存于代，非自昭于尧汤之时，非故逃于桀纣之朝。用得其道则天下理，用失其道则天下乱。                                       </p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第三卷权变-正论</title>
    <url>/posts/6a24346d/</url>
    <content><![CDATA[<blockquote>
<p>【议曰：“反经”、“是非”、“适变” 三篇，虽博辩利害，然其弊流遁漫，羡无所归。故作“正论”以质之。】</p>
<p>孔子曰：“六艺于治一也。《礼》以节人，《乐》以发和，《书》以导事，《诗》以达意，《易》以神化，《春秋》以义。” </p>
<p>【班固曰：“ 乐者，圣人之所以乐也，而可以善人心，其感人也深。故先王著其教焉。夫人又血气心知之性，而无衰乐喜怒之常。应感而动，然后心术形焉。故纤微憔悴之音作，而民思忧；阐谐慢易之音作，而民康乐；粗厉猛奋之音作，而民刚毅；廉直正诚之音作，而民肃静；宽裕顺和之音作，而民慈爱；流僻邪散之音作，而民淫乱。先王耻其乱也，故制《雅》、《颂》之声。本之情性，稽之度数，制之礼义，合生气之和，导五常之行，使之阳而不散，阴而不集，刚气不怒，柔气不摄，四畅交于中，而发作于外。足以感人之善心，而不使邪气得接焉。是先王立乐之方也。”</p>
<p>班固曰：“人涵天地阴阳之气，有喜怒哀乐之情，天禀其性而不节也，圣人能为之节而不能绝也。故像天地而制礼乐，所以通神明，立人伦，正情性，节万事也。……。故孔子曰：‘ 安于治人，莫善于礼；风易俗，莫善于乐。揖让而治天下者，礼乐之谓也。’ ”】</p>
<p>【司马谈曰：“ 儒者，博而寡要，劳而少功，是以其事难尽从，然其 叙君臣父子之礼，列夫妇长幼之别，不可易也。夫儒者，以‘六艺’为法，经传以千万，累世不能通其学，当年不能究其礼，故曰‘ 博而寡要，劳而少功 ’ 。若夫列君臣父子之礼，叙夫妇长幼之别，虽百家勿能易也。”</p>
<p>司马谈曰：“ 阴阳之术，大详而众忌讳，使人拘而多畏，然其叙四时之大顺，不可失也。夫阴阳四时，八位十二度，二十四节，各有教令。曰顺之者昌，逆之者亡，未必然也。故曰使人拘而多忌。夫春生夏长，秋收冬藏，此天下之大经，弗顺则无以为天下纪纲。故曰叙四时之大顺，不可失也。” </p>
<p>司马谈曰：“ 法家严而少恩；然正君臣上下之分，不可改也。夫法家不别亲疏，不殊贵贱，一断于法，则亲亲尊尊之恩绝矣。可使行一时之计，而不可长用也。故‘ 严而少恩 ’。至于尊主卑臣，明职分不相逾越，虽百家不能改也。” </p>
<p>司马谈曰：“ 墨家俭而难遵，是以其事不可偏循。然其强本节用，不可废也。】</p>
</blockquote>
<blockquote>
<p>数子之言，当世得失，皆悉究矣。然多谬通方之训，好申一隅之说。贵清净者，以席上为腐论；束名实者，以柱下为诞辞。或推前王之风，可行于当年，有引救弊之规，宜流于长世。稽之笃论，将为弊矣。由此言之，故知有法无法，因时为业，时止则止，时行则行，动不失其时，其道光明。非至精者，孰能通于变哉？</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第三章权变-适变</title>
    <url>/posts/1e7152bf/</url>
    <content><![CDATA[<blockquote>
<p>昔先王当时而立法度，临务而制事，法宜其时则理，事适其务故有功。今时移而法不变，务易而事以古，是则法与时诡，而事与务易，是以法立而时益乱，务无而事益废。此圣人之理国也，不法古，不修今，当时而立功，在难而能免。</p>
<p>【秦孝公用卫鞅。鞅欲变法，孝公恐天下议己，疑之。卫鞅曰：“疑行无名，疑事无功。夫有高人之行者，固见非于世；有独智之虑者，必见教于人。愚者暗于成事，智者见于未萌。人不可与虑始，而可与乐成。论至德者，不和于俗；成大功者，不谋于众。是以圣人苟可以强国，不法其故；苟可以利人，不循其礼。” 孝公曰：“ 善。” 甘龙曰：“ 不然。圣人不易人而教，智者不变法而治。因人而教，不劳而功成。缘法而理，吏习而人安。” 卫鞅曰：“ 龙之所言，世俗之言。常人安于习俗，学者溺于所闻。以此两者居官守法可也，非所以与论于法之外也。三代不同礼而王；五霸不同法而霸。智者作法，愚者制焉。贤者更礼，不肖者拘焉。” 杜贽曰：“ 利不百，不变法；功不十，不易器。法古无过，修礼无邪。” 卫鞅又曰：“ 治代不一道，便国不法故。故汤武不循古而王，夏殷不易礼而亡。反古者不可非，而循礼者不足多。” 孝公曰：“ 善。” 遂变法也。】</p>
<p>由是言之，故知若人者，各因其时而建功立德焉。【孟子曰：“ 虽有磁基，不如遇时；虽有智慧，不如逢代。” 范蠡曰：“ 时不至，不可强生；事不究，不可强成。” 《语》 曰：“ 圣人修备以待时也。” 】</p>
<p>何以知其然耶？桓子曰：“ 三皇以道治，五帝用德化，三王由仁义，五伯用权智。” 【说曰：无制令刑罚谓之皇，有制令，无刑罚谓之义；赏善诛恶，朝诸侯，朝事，谓之王；兴兵众，立约盟，以信义矫代谓之伯。文子曰：“ 帝者，贵其德也；王者，尚其义也；霸者，迫其理也。道狭然后任智，德薄然后任刑，明浅然后任察。议曰：夫建国立功，其政不同也如此。】</p>
<p>五帝以上久远，经传无事，唯王霸二盛之类，以定古今之理焉。【秦汉居帝王之位，所行者霸事也。故以为德之次。】</p>
<p>夫王道之治，先除人害，而足其衣食。</p>
<p>【论曰：” 五亩之宅，树之以桑，匹妇蚕之，年五十者，可以衣帛矣。百亩之田，数口之家，耕稼修理，可以无饥矣。鸡豚狗彘之畜，不失其时，老者可以食肉矣。夫上无贪欲之求，下无奢淫之人，藉税省少而徭役不繁，其仕者，食禄而已，不与人争利焉。是以产业均而贫富不能相悬也。“ 】</p>
<p>然后教以礼仪。</p>
<p>【故明王审己正统，慎乃其位。宫室舆服不逾礼制，九女正序于内，三公分职于外。制井田以齐之，设诸侯以牧之，使饶不溢侈，少不匮乏，然后申以辟雍之化，示以揖让之容，是以和气四塞，祸乱不生，此圣王之教也。】</p>
<p>而威以刑诛，使知好恶去就。</p>
<p>是故大化四凑，天下安乐，此王者之术。</p>
<p>【王者，父天母地，调和阴阳，顺四时而理五行，养黎元而育群生，故王之为言往也。盖言其惠泽，优游善养润天下，天下归往之，故曰王也。】</p>
<p>霸功之大者，尊君卑臣，权统由一，政不二门，赏罚必信，法令著明，百官修理，威令必行。</p>
<p>【夫霸君亦为人除难兴利以富国强兵，或承衰乱之后，或兴兵征伐。皆未得，遵法度，申文理，度代而制，因时施宜，以从便善之计，而务在于立功也。】此霸者之术。</p>
<p>【王道纯而任德，霸道驳而任法。此优劣之差也。】</p>
<p>《道德经》曰：” 我无为而人自化。“ 《文子》曰：” 所谓无为者，非谓引之不来，推之不往，谓其循理而举事，因资而立功，推自然之势也。“ 【故曰：” 智而好问者圣；勇而好问者胜。乘众人之智，即无不任也；用众人之力，即无不胜也。故圣人举事，未尝不因其资而用也。】 故曰：汤武，圣主也，而不能与越人乘舲舟，泛江湖。伊尹，贤相也，而不能与胡人骑原马，服**。孔、墨，博通也，而不能与山居者入榛薄，出险阻。</p>
<p>由是观之，人智于物，浅矣，而欲以昭海内，存万物，不因道理之数，而专己之能，则其穷不远。故智不足以为理，勇不足以为强，明矣。然而君人者，在庙堂之上而知四海之外者，因物以识物，因人以知人也。</p>
<p>【《吕氏春秋》曰：“ 是天无形而万物以成，大圣无事而千官尽能，此谓不教之教，无言之昭业。” 】</p>
<p>夫冬日之阳，夏日之阴，万物归之，而莫之使。至精之感，弗召自来。待目而昭见，待言而使令，其于理难矣。</p>
<p>【《文子》曰：“ 三月婴儿，未知利害，而慈母之忧喻焉者，情也。” 故曰：“ 言之用者小，不言之用者大。又曰：不言而信，不施而仁，不怒而威，是以天心动化者也。施而仁，言而信，怒而威，是以精诚为之者也。施而不仁，言而不信，怒而不威，是以外貌为之也。】</p>
<p>【庄子曰：” 天地有大美而不言，四时有明法而不议，万物有成理而不说。圣人无为，大圣不作，观于天地之谓也。】</p>
<p>不言之令，不视之见，圣人所以为师。此黄老之术也。</p>
<p>六经之理，贵于未乱；兵家之胜，贵于未战。</p>
<p>此孔氏之术也。【议曰：孔氏之训，务德行义，盖王道也。】</p>
<p>墨子曰：“ 古之人未知为宫室，就陵阜而居，穴而处，故圣王作为宫室。为宫室之法，高足以避润湿，边足以圉风寒。宫墙之高，足以别男女之礼。谨此则止，不以为观乐也。故天下之人，财用可得而足也。当今之王为宫室则与此异矣。必厚敛于百姓以为宫室，台榭曲直之望，青黄刻镂之饰，为宫室若此，故左右皆法而象之。是以财不足以待凶饥，振孤寡，故国贫而难理也。为宫室不可不节。【议曰：此节宫室者。】</p>
<p>古之人未知为衣服，时衣皮带茭，冬则不轻而暖，夏则不轻而清。圣王以为不中人之情，故圣人作，诲妇人，以为人衣。为衣服之法，冬则练帛，足以为轻暖，夏则絺绤，足以为轻清，谨此则止，非为荣耳目，观于人也。是以其人用俭约而易治，其君用财节而易赡也。当今之王，其为衣服，则与此异矣。必厚敛于百姓，以为文彩靡曼之衣，铸金以为钩，珠玉以为佩。由此观之，其为衣服，非为身体，皆为观好耶。是以其人淫僻而难治，其君奢侈而难谏。夫以奢侈之君，御淫僻之人，欲国无乱，不可得也。为衣服不可不节。”【 议曰：此节衣服也。】</p>
<p>此墨翟之术也。【议曰：墨家之议，去奢节用，盖强本道。】</p>
<p>商子曰：“ 法令者，人之命也，为治之本。【慎子曰：” 君人者，舍法而以身治，则受赏者虽当，望多无穷；受罚者虽当，望轻无已。君舍法而以心裁轻重，怨之所由生也。是以分马者之用策，分田者之用钩，非以钩策为过人之智也，所以去私塞怨也。故曰：夫君任法而不躬为，则怨不生而上下和也。“ 】 一兔走，百人逐之，非以兔可分为百，由名分之未定也。卖兔满市，盗不敢取者，由名分已定也。故名分未定，虽尧舜禹汤，且皆加务而逐之。名分之定，则贫盗不敢取。故尧舜圣人之为法令也，置官也，置吏也，所以定分也。名分定则大诈贞信，巨盗原悫，而各自治也。” 【《尹文子》曰：“ 名定则物不竞，分明则私不行。物不竞，非无心，由名定，故无所措其心；私不行，非无欲，由分明，故无所措其欲。然则心欲人人有之，而得同于无心无欲者，在制之有道故也。” 】</p>
<p>申子曰：“ 君如身，臣如手，君设其本，臣操其末。为人君者，操契以责其名。名者，天地之网，圣人之符。张天地之网，用圣人之符，则万物无所逃矣。”</p>
<p>此商鞅、申、韩之术也。</p>
<p>【恒范曰：“ 夫商鞅申韩之徒，贵尚谲诈，务行苛刻。废礼义之教，任刑名之教，不师古，始败俗伤化。此则伊尹、周公之罪人也。然其尊君卑臣，富国强兵，守法持术，有可取焉。逮至汉兴，有宁成，郅都之辈，仿商、韩之治，专以杀伐残暴为能，顺人主之意，希旨之行，要时趋利，敢行败祸，此又商、韩之罪人也。然其抑强族，抚孤弱，清己禁奸，背私立公，亦有取焉。至于晚代之所谓能者，乃犯公家之法，赴私门之势，废百姓之务，趋人间之事，决烦理务，临时苛辩，使官无谴负之累，不省下人之冤，复是申、韩、宁、郅之罪人也。”】</p>
<p>由是观之，故知治天下者，有王霸焉，有黄老焉，有孔墨焉，有申商焉，此所以异也，虽经纬殊制，救弊不同，然康济群生，皆有以矣。今议者或引长代之法，诘救弊之言【议曰：救弊为夏人尚忠，殷人尚敬，周人尚文者】；或引帝王之风，讥霸者之政，不论时变，而务以饰说。故是非之论，纷然作矣。言伪而辩，顺非而泽，此罪人也。故君子禁之。</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第二卷德行-德表</title>
    <url>/posts/9c3a31d9/</url>
    <content><![CDATA[<blockquote>
<p>孔子曰：“性相近也，习相远也。” 言嗜欲之本同，而迁染之途异也。夫刻意则行不肆，牵物则其志流。是以圣人导人理性，裁抑流宕，慎其所与，节其所偏。故《传》曰：“ 审好恶，理情性，则王道毕矣。” 治性之道，必审己之所有余，而强其所不足。盖聪明流通者，戒于太察；寡言少见者，戒于壅蔽；勇猛刚强者，戒于太暴；仁爱温良者，戒于无断；湛静安舒者，戒于后时；广心浩大者，戒于遗忘。</p>
</blockquote>
<blockquote>
<p>此拘亢之材，非中庸之德也。</p>
</blockquote>
<blockquote>
<p>文子曰：“ 凡人之道，心欲小，志欲大，智欲圆，行欲方，能欲多，事欲少。” 所谓“心小”者，虑患未生，戒祸慎微，不敢纵其欲也；“ 志大” 者，兼包万国，一齐殊俗，是非辐辏，中之为毂也；“智圆” 者，终始无端，方流四远，深泉而不竭也；“行方”者，直立而不挠，素白而不污，穷不易操，达不肆志也；“能多” 者，文武具备，动静中仪也；“事少” 者，执约以治广，处静以待躁也。</p>
<p>夫天道极即反，盈即损。故聪明广智，守以愚；多闻博辩，守以俭；武力毅勇，守以畏；富贵广大，守以狭；德施天下，守以让。此五者，先王所以守天下也。</p>
<p>《传》曰：“无始乱，无怙富，无恃宠，无违同，无傲礼，无骄能，无复怒，无谋非德，无犯非义。“  此九言，古人所以立身也。 </p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第二卷德行-臣行</title>
    <url>/posts/6feddce9/</url>
    <content><![CDATA[<p>没有细看，取其大略。</p>
<blockquote>
<p>夫人臣萌芽未动，形兆未见，昭然独见存亡之机，得失之要，豫禁乎未然之前，使主超然立乎显荣之处，如此者，圣臣也。</p>
<p>虚心尽意，日进善道，勉主以礼义，谕主以长策，将顺其美，匡救其恶，如此者，大臣也。</p>
<p>夙兴夜寐，进贤不懈，数称往古之行事，以厉主意，如此者，忠臣也。</p>
<p>明察成败，早防而救之，塞其间，绝其源，转祸以为福，君终己无忧，如此者，智臣也。</p>
<p>依文奉法，任官职事，不受馈赠，食饮节俭，如此者，贞臣也。</p>
<p>国家昏乱，所为不谀，敢犯主之严颜，而言主之过失，如此者，直臣也。</p>
<p>是谓六正。</p>
</blockquote>
<blockquote>
<p>安官贪禄，不务公事，与世沉浮，左右观望，如此者，具臣也。</p>
<p>主所言皆曰“善”，主所为皆曰“可”，隐而求主之所好而进之，以快主之耳目。偷合苟容，与主为乐，不顾后害，如此者，谀臣也。</p>
<p>中实险诐，外貌小谨，巧言令色，又心疾贤。所欲进则明其美，隐其恶；所欲退则彰其过，匿其美，使主赏罚不当，号令不行，如此者，奸臣也。</p>
<p>智足以饰非，辩足以行说，内离骨肉之亲，外妒乱于朝廷，如此者，馋臣也。</p>
<p>专权擅势，以轻为重；私门成党，以富其家；擅矫主命，以自显贵，如此者，贼臣也。</p>
<p>谄主以佞邪，坠主于不义，朋党比周，以蔽主明，使白黑无别，是非无闻；使主恶布于境内，闻于四邻，如此者，亡国之臣也。</p>
<p>是谓六邪。</p>
</blockquote>
<blockquote>
<p>议曰：夫圣人德全，器无不备。中庸已降，才则好偏。故曰：柴也愚，参也鲁，师也辟，由也喭。由此观之，全德者鲜矣！全德既鲜，则资矫情而力善矣！然世恶矫伪，而人贤任真。使其真贪愚而亦任之，可为贤乎？对曰：吁！何为其然？夫肖貌天地，负阴抱阳，虽清浊贤愚，其性则异，而趋走嗜欲，所规则同。故靡颜腻理，人所悦也；乘坚驱良，人所爱也；哭心贞节，人所难也；徇公灭私，人所苦也。不以礼教节之，则荡而不制，安肯攻苦食淡，贞洁公方，临财廉而取与义乎？故《礼》曰：”欲不可纵，志不可满。“ 古语云：” 廉士非不爱财，取之有道。“ 诗云：” 如切如蹉，如琢如磨。“ 皆矫伪之谓也。 若肆其愚态，随其鄙情，名曰任真而贤之，此先王之罪之也。故吾以为矫伪者，礼义之端；任真者，贪鄙之主。夫强仁者，庸可诬乎？</p>
</blockquote>
<blockquote>
<p>或曰：”长平之事，白起坑赵卒四十万，可为奇将乎？“</p>
<p>何晏曰：”白起之降赵卒，诈而坑其四十万，其徒酷暴之谓乎？ 后亦难以重得其志矣！ 向使众人预知降之必死，则张虚拳，犹可畏也。况于四十万披坚执锐哉？天下见降秦之将头颅依山，归秦之众骸积成丘，则后日之战，死当死耳，何众肯服，何城肯下乎？是为虽能裁四十万之命，而适足以强天下之战。欲以一期之功，而乃更坚诸侯之守。故兵进而自伐其势，军胜而还丧其计，何者？设使赵众复合，马服更生，则后日之战，必非前日之对也，况今皆使天下为后日乎！其所以终不敢复加兵于邯郸者，非但忧平原之补缝，患诸侯之救至也，徒讳之而不言耳。且长平之事，秦人十五以上，皆荷戟而向赵矣。夫以秦之强，而十五以上，死伤过半，此为破赵之功小，伤秦之败大也。又何称奇哉？“</p>
<p>议曰：黄石公称柔者能制刚，弱者能制强。柔者德也，刚者贼也。柔者人之所助，刚者怨之所居。是故纣之百克而卒无后，项羽兵强，终失天下。故随何曰：” 使楚胜，则诸侯自危惧而相救。夫楚之强，适足以致天下兵耳。“ 由是观之，若天下已定，借一战之胜，诈之可也。若海内纷纷，雌雄未决而失信于天下，败亡之道也。当亡国之时，诸侯尚强，而白起乃坑赵降卒，使诸侯畏之而合纵。诸侯合纵，非秦之利，为战胜而反败。何晏之论当矣。</p>
</blockquote>
<p>有意思！长平之战或胜于军事，但输于政治。</p>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第八卷杂说-诡信</title>
    <url>/posts/e52a7502/</url>
    <content><![CDATA[<blockquote>
<p>【议曰：“ 代有诡诈反为忠信者也。” 抑亦通变，适时所为、见机而作而不俟终日者。】</p>
<p>孔子曰：“ 君子贞而不谅。” 又曰：“ 近逝于义，言可复也。” 由是观之，唯义所在，不在信也。【议曰：微哉！微哉！天下之事也，不有所废则无以兴。若忠于斯，必不诚于彼，自然之理矣。由是观之，则我之所谓忠，则彼之所谓诈也。然则忠之与诈，将何所取定哉？抑我闻之：夫臣主有大义，上下有定分，此百代不易之道也。故欲行忠，观臣主之义定；欲行信，顾上下之分明。苟分义不愆于躬，虽谲而不正可也。】何以明之？</p>
<p>叶公问孔子曰：“ 吾党有直躬者，其父攘羊而其子证之。” 孔子曰：“ 吾党之直者异于是，父为子隐，子为父隐，直在其中矣。”</p>
<p>楚子围宋，宋求救于晋。晋侯使解扬如宋，使无降楚，曰：“ 晋师悉起，将至矣。” 郑人囚而献诸楚，楚子厚赂之，使反其言。许之。登诸楼车，使呼宋人而告之，遂致其君命。楚子将杀之，使与之言曰：“ 尔既许不谷而反之，何故？非我无信，尔其弃之，速即尔刑！” 对曰：“ 臣闻之，君能制命为义，臣能承命为信。信载义而行之有利，谋不失利，以卫社稷，民之主也。义无二信，信无二命。君之赂臣，不知命也。受命以出，有死无殒，又何赂乎？臣之许君，以成命也。死而成命，臣之禄也！寡君有信臣，下臣获考，死又何求！” 楚之舍之以归。</p>
<p>【韩子曰：“ 楚有直躬者，其父窃羊而讦之，令尹曰：” 必杀之！“ 以为直于君而曲于父，执其子而罪之。由是观之，夫君之直臣，父之暴子也。鲁人从君战，三战三北，仲尼问其故，对曰：” 吾有老父，死莫之养也。“ 仲尼以为孝，誉而用之。以是观之，夫父之孝子，君之北人也。故令尹诛而楚奸不止，闻仲尼赏之，鲁人易降。此上下之利，若是其异也，而人主兼誉匹夫之行，而求致社稷之福，必不几矣。】</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>反经-第八卷杂说-钓情</title>
    <url>/posts/ed6fb8cc/</url>
    <content><![CDATA[<blockquote>
<p>孔子曰：“ 未见颜色而言曰瞽”，又曰：“ 未信则以为谤己。” 孙卿曰：“ 语而当，智也，默而当，智也。” 尸子曰：“ 听言，耳目不惧，视听不深，则善言不往焉。” 是知将语者，必先钓于人情，自古然矣。</p>
<p>韩子曰：“ 夫说之难也，在知所说之心可以吾说当之。说之以厚利，则见下节而遇 卑贱，必弃远矣【所说实为厚利则阴用其言而显弃其身，此不可不知也】。说之以名高，则见无心而远事情，必不收矣【所谓实为名高而阳收其身而实疏之。此不可不知也】。事以密成，语以泄败，未必其身泄之也，而说及其所匿之事，如是者身危【周泽未渥也，而语极知，说行而有功则德亡，说不行而有败则见疑，如是者身危】。贵人有过端，而说者明言善议以推其恶者身危。贵人或得计而欲自己为功，说者与知焉则身危。强之以其所不为，止之以其所不能已者身危。“ 又曰：” 与之论大人，则以为间己，与之论细人，则以为鬻权。论其所爱，则以为借资，论其所憎，则以为尝已。顺事陈意则曰怯懦而不尽，虑事广肆，则曰草野而居侮，此不可不知也……彼自智其计，则勿以其失当之，自勇其断，则勿以其敌怒之。“ 【凡说须旷日弥久，周泽而不凝，交争而不罪，乃明计利害，以致其功。直指是非，以饰其身。以此相持，此说之成也。】</p>
<p>荀悦曰：” 夫臣下所以难言者，何也？言出乎身则咎悔及之矣。“ 故曰：举过揭非，则有干忤之咎，劝励教诲，则有侠上之议。言而当，则耻其胜己也，言而不当，则贱其愚也。先己而同，则恶其夺己明也，后己而同，则以为从顺也。违下从上，则以为谄谀也，违上从下，则以为雷同也。言而浅露，则简而薄之，深妙弘远，则不知而非之。特见独智，则众恶其盖己也，虽是而不见称，与众同智，则以为附随也，虽得之不以为功。谦让不争，则以为易容，言而不尽，则以为怀隐，进说竭情，则以为不知量。言而不效，则受其怨责，言而事效，则以为固当。利于上不利于下，或便于左则不便于右，或合于前而忤于后，此下情所以常不通。仲尼发愤，称”予欲无言“者，盖为语之难也。何以明其难也？</p>
<p>昔宋有富人，天雨坏墙，其子曰：” 不筑，且有盗。“ 其邻人亦云。暮而果大亡，其家智其子而疑邻人之父。郑武公欲伐胡，乃以其子妻之，因问群臣：” 吾欲用兵，谁可伐者？“ 关其思曰：” 胡可伐。“ 乃戮关其思，曰：” 胡，兄弟之国也，子言伐之，何也？“ 胡君闻之，以为郑为亲己而不备郑，郑人袭胡，取之。此二说者，其智皆当矣，然而甚者为戮，薄者见疑，非智之难也，处智则难。</p>
<p>卫人迎新妇，妇上车，问：” 骖马，谁马也？“ 御者：” 借之。“ 新妇谓仆曰：” 拊骖，无苦服。“ 车至门，拔教：” 逆母，灭橹，将失火。“ 入室，见臼，曰：” 徙牖下，妨往来者。“ 主人大笑之。此三言，皆要言也，然而不免为笑者，早晚之时失矣。此说之难也。</p>
<p>说者知其难也，故语必有钓，以取人情。何以明之？</p>
<p>昔齐王后死，欲置后而未定，使群臣议。薛公田婴欲中王之意，因献其珥而美其一，旦日因问美珥所在，因劝立以为后，齐王大悦，遂重薛公。此情可以物钓也。</p>
<p>申不害始合于韩王，然未知王之所欲也，恐言而未必中于王也。王问申子曰：“吾谁与而可？” 对曰：“ 此安危之要，国家之大事也，臣请深惟而苦思之。” 乃微请赵卓、韩冕曰：“ 子，皆国之辩士也，夫为人臣者，言何必同？尽忠而已矣。” 二人各进议于王以事。申子微视王之所悦，以言于王，王大悦之。此情可以言钓也。</p>
<p>吴伐越，越栖于会稽，勾践喟然叹曰：“吾终此乎？” 大夫种曰：“汤系夏台，文王囚姜里，重耳奔翟，齐小白奔莒，其卒霸王。由是观之，何遽不为福乎？” 勾践既得免，务报吴。大夫种曰：“ 吾观吴王政骄矣，请尝之。” 乃贷粟以卜其事。子胥谏勿与，王遂与之。子胥曰：“ 王不听谏，后三年，吴其墟矣！” 太宰嚭闻之，馋曰：“ 伍员貌忠而实忍人。” 吴杀子胥，此情可以事钓也。</p>
<p>客以淳于髡见梁惠王，惠王屏左右，再见之，终无言，王怪之，让客。客谓淳于髡，髡曰：“ 吾前见王，王志在驰逐，后复见王，王志在音色，是以默然。” 客具以报王，王大骇曰：“ 淳于先生，诚圣人也。前有善献马者，寡人未及试，会生来。后有献讴者，未及试，又会生至。寡人虽屏人，然私心在彼。” 此情可以志钓也。</p>
<p>智伯从韩魏之君伐赵，韩魏用赵臣张孟谈之计，阴谋叛智伯。张孟谈因朝智伯，遇智果于辕门之外。智果入见智伯，曰：“ 二主殆将有变，臣遇张孟谈，察其志矜而行高，见二君色动而变，必背君矣。” 智伯不从，智果出，遂更其姓曰辅氏。张孟谈见赵襄子曰：“ 臣遇智果于辕门之外，其视有疑臣之心。入见智伯而更其族，今暮不击，必后之矣。” 襄子曰：“诺！” 因与韩魏杀守堤之吏，决水灌智伯军，此情可以视钓也。</p>
<p>殷浩仕晋，有盛名，时人观其出处，以卜江左兴亡，此情可以贤钓也。【 《吕氏春秋》曰：“ 夫国之将亡，有道者先去。”】</p>
<p>【《易》曰：“将叛者，其辞惭，中心疑者，其辞枝。吉人之辞寡，躁人之辞多。诬善之人，其辞游，失其守者，其辞屈。” 】</p>
<p>由是观之，夫人情必见于物。【昔者晋公好色，骊姬乘色以壅之。吴王好广地，太宰陈伐以壅之。桓公好味，易牙蒸子以壅之。沉冥无端，甚可畏也。故知人主之好恶，不可见于外。所好恶见于外，则臣妾乘其所好恶以行壅制焉。故曰：人君无意见则为下饵。此之谓也。】能知此者，可以纳说于人主矣。</p>
</blockquote>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>反经</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>只只和周周</title>
    <url>/posts/ac7827ff/</url>
    <content><![CDATA[<p>记录只只和周周的日常。</p>
<center>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1483786045&auto=1&height=66"></iframe>
</center>

<span id="more"></span>

<h1 id="我们的时间线"><a href="#我们的时间线" class="headerlink" title="我们的时间线"></a>我们的时间线</h1><p>2007年左右：初识</p>
<p>2021年2月16日：再次见面</p>
<p>2021年3月4日22时11分 ： 确定恋爱关系</p>
<p>2021年3月25日：只只的第一次生气</p>
<p>2021年4月3日： 确定恋爱关系后第一次见面</p>
<p>2021年4月9日23时：只只第一次为我哭泣</p>
<p>……</p>
<h1 id="我们的语录"><a href="#我们的语录" class="headerlink" title="我们的语录"></a>我们的语录</h1><blockquote>
<p>时间 不详</p>
<p>只只：谈恋爱不就和吃饭喝水一样嘛</p>
</blockquote>
<blockquote>
<p>时间 2021年3月2日</p>
<p>周周：那怎么称呼？</p>
<p>只只：啊？我没想过 我朋友都叫我全名</p>
<p>只只：你简直问到我了</p>
<p>周周：茴茴？哈哈哈</p>
<p>只只：啊 我不知道唉 因为我们口音不一样啊</p>
</blockquote>
<blockquote>
<p>时间 2021年3月3日</p>
<p>只只：不过我们现在算什么关系啊</p>
<p>只只：****聊天？哈哈哈</p>
<p>周周：浅了</p>
<p>周周：不行</p>
<p>……</p>
<p>只只：那你要好好追我哦</p>
<p>只只：哈哈哈</p>
<p>周周：好哦</p>
<p>只只：那就改变称呼吧</p>
<p>只只：叫我只只</p>
</blockquote>
<blockquote>
<p>时间 2021年3月4日</p>
<p>只只：小周 小周</p>
<p>只只：你怎么还不出现啊</p>
<p>只只：给你10分钟哦</p>
<p>六分钟后</p>
<p>周周：出现了，出现了</p>
<p>周周：刚刚洗澡去了</p>
<p>只只：哈哈哈</p>
<p>……</p>
<p>只只：那你有啥要问我的</p>
<p>周周：没有啥要问的</p>
<p>只只：公平起见 我之前问了你的 现在到你了</p>
<p>只只：那好吧</p>
<p>周周：我不问，你也会说的</p>
<p>周周：何必费那事</p>
<p>……</p>
<p>只只：那就今天开始谈恋爱吧</p>
<p>周周：先恋爱后追求啊</p>
<p>只只：反正你表白了</p>
<p>只只：嗯嗯</p>
<p>周周：我们好特殊啊</p>
<p>时间：2021年4月9日</p>
<p>只只：刚刚我们生气的时候</p>
<p>只只：就我哭的时候</p>
<p>只只：我突然想到如果你不是我男朋友了</p>
<p>只只：我就好难过</p>
<p>周周：你这么说，我就好很多了。比你说的有点应该强一千万倍。</p>
<p>只只：因为你刺激到我了</p>
<p>只只：我的感觉一下就出来了</p>
<p>只只：之前抑制的感情一下就出来了</p>
</blockquote>
<h1 id="我们一起做的事"><a href="#我们一起做的事" class="headerlink" title="我们一起做的事"></a>我们一起做的事</h1><h1 id="我们的相册"><a href="#我们的相册" class="headerlink" title="我们的相册"></a>我们的相册</h1><h2 id="仙女湖之旅-2021年4月"><a href="#仙女湖之旅-2021年4月" class="headerlink" title="仙女湖之旅-2021年4月"></a>仙女湖之旅-2021年4月</h2><p>仙女湖位于新余，誉为“中国七夕情人节”的发源地。我和只只上午去的，可是等滴滴就等了一个小时……</p>
<p>门口有很多小花花，还有很多风车。</p>
<p><img src="xiannvhu3.jpg"></p>
<p><img src="xiannvhu6.jpg"></p>
<p>逛的时候发现的“鹊桥”</p>
<p><img src="xiannvhu4.jpg"></p>
<p>里面有一些书法，勉强能看懂，都是一些情诗。</p>
<p><img src="xiannvhu1.jpg"></p>
<p><img src="xiannvhu7.jpg"></p>
<p>然后，最最重要的是，我们一块买了四只说不上名字的鸟，只只一开始说是企鹅，确实有一点像，毕竟都是圆鼓鼓的。左边那两只现在在只只那里，我们起名叫 “周大胖”，“周小胖”；右边那两只现在在我这，我们起名叫“程大胖”，“程小胖”。哈哈哈！</p>
<p>不过，这四只胖胖以后还是会放在一块的。</p>
<p><img src="xiannvhu5.jpg"></p>
<p>在景区吃的饭，仙女湖的鱼和藕条。我们一致觉得鱼不行，但我觉得藕条还行。悄悄地说一句，某人只要觉得不好吃就吃得很少，难养哦。</p>
<p><img src="xiannvhu2.jpg"></p>
<p>我走的那天送只只的玫瑰。周边其实没有花店，当时正好碰到了一个花店老板给别人送花，我就叫住了她，买了一束花，让她送过来。</p>
<p><img src="xiannvhu8.jpg"></p>
]]></content>
  </entry>
  <entry>
    <title>序 - 构建个人博客的原因和过程</title>
    <url>/posts/7ce416b6/</url>
    <content><![CDATA[<h1 id="为什么开通个人博客？"><a href="#为什么开通个人博客？" class="headerlink" title="为什么开通个人博客？"></a>为什么开通个人博客？</h1><p>我在B站关注了一位up主，名字叫codesheep（程序羊），他是华科出来的硕士（自称”资质平平“，感觉自己都不用活了）。自称看了他的视频，才产生了构建个人博客的想法。我看他宣传开通个人博客的视频，应该是在去葫芦岛旅游前（2019年7月27号）。按照大佬的说法，开通个人博客，有百利而无一害，比如避免自己重复掉坑、能够吸引一点关注、可能对其他人有帮助、结交同性朋友等。我想了想，感觉说得都很对，我没办法反驳，心里就种下了种子。等从葫芦岛回来，有空余时间的时候就可以动手做了。<br>本科毕业的时候，我从一件事情上吸取到了一个教训。那时候我发现我有很多买回来的书，就一直放着，很多都没看，就一直放着，直到毕业。最后，我感觉实在有点累赘，就或卖或送打发了。这些买回来的书，如果一开始没去看，可能我永远都不会去翻他。其他事情应该也是一样的吧。对于想做的事，一开始不着手去做的话，这辈子都不会做了吧。毕竟，一辈子其实想想也没有多长。  </p>
<h1 id="开通个人博客的过程"><a href="#开通个人博客的过程" class="headerlink" title="开通个人博客的过程"></a>开通个人博客的过程</h1><p>当时好像程序羊还没有发布详细的构建个人博客的视频，我就从知网找了个教程，看着比较详细，那上面第一步就说要有个域名。然后，我就去了阿里云上去查找注册域名，本来想注册自己的名字 <a href="https://www.zhouzw.com/">zhouzw</a>，没想到已经被注册了。然后我就不知道用啥英文了，毕竟我没有正儿八经起过英文名。我就找到了我的词汇课的课件，第一个词根是-vict（胜利的意思），一查也被注册了。后面对这个词根的注解上说，来自于希腊语vincere，就用了这个不是英文单词的词。之后我发现阿里云上域名都是按年买的，我感觉这是不是坑我（我刚开始以为应该是注册了就是终生的）。谷歌了一下，才发现域名都是按年买的，逾期不付费会回收，尴尬。为什么选.fun这个后缀呢，当然是希望自己开开心心（假的，因为便宜，我一次性买了10年才花了179，相比于什么.com,.cn这种正规后缀，真的是好便宜！)<br>然后按照知乎的流程去走（其实什么软件、命令都不懂），从4点到了将近7点（我一般5点多去吃饭），并没有弄通。整个人就有点不太好，虽然其实也没搞多长时间。后来又是看了程序羊的视频，才算是最终构建好了。  搭建好了个人博客，当时发了个微信。然后到现在又过了一个多礼拜，这期间主要是其它事和学习shell编程啥的。我总是想先把手头的东西弄完或学完，再弄别的事。然后就一直到了今天。</p>
<h1 id="用个人博客做什么"><a href="#用个人博客做什么" class="headerlink" title="用个人博客做什么"></a>用个人博客做什么</h1><p>现在初步打算把自己一年多的学习的东西，总结提取重点，发到这个个人博客上来。当然都是一些很基础的东西。参考别人的博客，我对我这个博客的设定为总结，总结自己学习的东西，总结自己遇到的坑，总结一些实践经验（如果有的话），偶尔总结一下自己矫情的感想。</p>
]]></content>
  </entry>
  <entry>
    <title>说文解字第一册笔记</title>
    <url>/posts/27938e11/</url>
    <content><![CDATA[<p>果然是书非借不能读也。说文解字这一套书买来就没怎么看过了。哈哈哈，类似了买了健身卡就感觉自己锻炼了一样。</p>
<p><strong>才</strong>：<br>    才，草木之初也。<br>    象形字，上面一横表示土地，植物嫩芽刚刚出土而枝叶尚未出土的样子。<br>    原义是草木初生。延申为木料或木料的质性，人或物的质性。</p>
<p><strong>奉</strong>：<br>    奉，承也。<br>    金文似用双手捧着禾麦奉献给神祖之行，会向神祖拜祭祷告、祈求丰收之意。</p>
<p><strong>与</strong>：<br>    与，赐予也。一勺为与。<br>    一双手把器物交给一双手的意思。<br>    原义是赐给、给予。授人以物，除了是对对方的肯定之外，甚至还可能想跟对方结交，所以延申出赞许、嘉奖、交往、结交之意。</p>
<p><strong>本</strong>：<br>    本，木下曰本<br>    根本，根本，本就是根。</p>
<p><strong>考</strong>：<br>    考，老也。<br>    甲骨文为老人扶杖之形。</p>
<p><strong>北</strong>：<br>    北，乖也。从二人相背。<br>    两个人背靠背，是”背“的本字。<br>    打了败仗逃跑时总是以背对敌，”北“由此延申指败、败逃。例如败北。<br>    古代君主面朝南坐，臣子面君时则面朝北，所以对人称臣为”北面“</p>
<p><strong>卑</strong>：<br>    卑，贱也。<strong>执事</strong>也。<br>    金文似左手持一粗糙的酒器之形，会执事供役使之意。后延申为地位低微</p>
<p><strong>夭</strong>：</p>
<p>​    夭，屈也。</p>
<p>​    甲骨文字形似一个人弯曲双臂摆动的样子。</p>
<p>   夭的原义是屈。但是屈过头了，就会折断。由此引申为折、短命，如“夭折”。</p>
<p>   夭的字形，好似在跳舞的样子，所以也形容女子美丽姣好，也表示花开茂盛。</p>
<p><strong>州</strong>：<br>    州,水中可居曰州，周绕其旁，从重川。昔尧遭洪水，民居水中高土，或者曰九州。</p>
<pre><code>州，水中陆地。后来大禹将其领域划分为九州，之后九州就泛指天下。
</code></pre>
<p><strong>乡</strong>：<br>    甲骨文似两个人对着盛有食物的器皿，会两人相对而食之意。<br>    原义是两人相对而食。延申泛指用酒食款待别人。</p>
<p><strong>习</strong>：<br>    习，数飞也。<br>    甲骨文为鸟儿在日光下练习飞翔之意。<br>    后引申为反复练习、钻研。</p>
<p><strong>承</strong>：<br>    承，奉也，受也。<br>    甲骨文似一个屈膝的人作授物之形，下有一双手做出接受的样子。<br>    原义是<strong>捧</strong>，也延申为继承，如“汉承秦制”。<br>    承还可以表示顺从、侍奉。如“承欢膝下”。</p>
<p><strong>民</strong>：<br>    民，众萌也。<br>    众人懵懂无知的样子。<br>    金文似以锐物刺左目之形。古时候，俘获敌人则刺瞎其左眼用为奴。所以“民”的原义是奴隶。</p>
<p><strong>卒</strong>：<br>    卒，隶人给事者衣为卒。<br>    原指带有标记的衣服（叉号），也特指穿这种衣服供役使的隶役。也特指士兵。</p>
<p><strong>真</strong>：<br>    甲骨文为人从鼎中取食美味之意。<br>    原义指美食，由美食的原质原味延申为本质、本性。</p>
<p><strong>协</strong>：<br>    协，众之同和也。<br>    甲骨文似三耒并耕之形，会合力耕种之意。</p>
<p><strong>企</strong>：<br>    企，举踵也。<br>    踮起脚尖的意思。如“企盼”，“企鹅”，“企及”</p>
<p><strong>位</strong>：<br>    位，列中庭之左右谓之位。<br>    位，排列在朝廷中的左右位置叫做位。原义是朝廷中群臣排班所处的序列、地方。延申指所处的官职、级别。还特指封建君主的统治地位。“即位” 就是指登上帝位，“在位”就是居于帝王之位。<br>    位也延申指人在某一社会领域中所处的位置或者等级。例如“岗位”、”学位“<br>    位还指抽象的名分、地位。</p>
<p><strong>仔</strong>：<br>    原义是人背子，甲骨文是人背小孩的样子。</p>
<p><strong>保</strong>：<br>    保，养也<br>    甲骨文士大人手臂向后抱一小儿。</p>
<p><strong>儿</strong>；<br>    儿，孺子也。<br>    甲骨文是一个向左站着的大头娃娃，头顶中间是开口的，表示婴儿脑囟骨还没有长在一起。<br>    【原来婴儿出生后颅骨之间结合不紧密，存有空隙，长见识了。】</p>
<p><strong>先</strong>：<br>    先，前进也。<br>    甲骨文像是一个走路的样子。“先”的原义是在前引导，走在前面。</p>
<p><strong>公</strong>：<br>    公，平分也。<br>    甲骨文是平分器皿中的东西之意。<br>    原义是无私，延申为公正。</p>
<p><strong>周</strong>：<br>    周，密也。<br>    “周”是象形字。甲骨文似在玉片上雕刻出纹饰，四点则象征雕刻的图画和花纹有疏密。</p>
<p><strong>友</strong>：<br>    友，同志为友。<br>    甲骨文和金文都是方向相同的两只右手靠在一起的样子，会志同道合地做一件事情之意。</p>
<p><strong>冤</strong>：<br>    冤，屈也。<br>    兔子在覆罩之下不能跑。</p>
<p><strong>危</strong>：<br>    危，在高而惧也。<br>    人站在高处有危险而感到害怕之意。</p>
<p><strong>孝</strong>：<br>    孝，善事父母者<br>    甲骨文似长者长头发的老人，金文似孩子背着老人的样子。</p>
<p><strong>奴</strong>：<br>    “奴”是会意字。金文字形左为“女”，右下为“又”（手）向她抓去，会抓住了人之意。</p>
<p><strong>驳</strong>：<br>    驳，马色不纯。<br>    甲骨文为马身上有交错的花纹之意。<br>    原指马的毛色不纯，延申成混杂、杂乱、庞杂。</p>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>说文解字</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>说文解字第三册笔记</title>
    <url>/posts/259f533d/</url>
    <content><![CDATA[<p><strong>逮</strong>：<br>    逮，及也。<br>    金文似右手揪住一条尾巴的样子。</p>
<p><strong>族</strong>：<br>    族，矢锋也。束之族族也。<br>    族，原义是箭头。</p>
<p><strong>感</strong>：<br>    感，动人心也。<br>    感的原义是人心受到外界影响而触动。</p>
<p><strong>意</strong>：<br>    意，志也。从心察言而知意也。<br>    意，意向。用心去考察别人的言语就知道他的意向。</p>
<p><strong>期</strong>：<br>    期，会也。<br>    期，约会。</p>
<p><strong>拜</strong>：<br>    拜，手至地也。<br>    拜，两手至地。<br>    甲骨文似双手捧禾麦奉献给神祖之行，会向神祖拜祭祈祷之意。</p>
<p>​    </p>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>说文解字</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>说文解字第二册笔记</title>
    <url>/posts/c3d58b1a/</url>
    <content><![CDATA[<p><strong>绝</strong>：<br>    绝，断丝也。<br>    绝，用刀断丝为二。</p>
<p><strong>怕</strong>：<br>    怕，无为也。</p>
<p><strong>守</strong>：<br>    守，守官也。<br>    “守”，金文是屋子里的一只手，由手在屋内掌管职责之意。<br>    原义是掌管职守。</p>
<p><strong>安</strong>：<br>    安，静也。<br>    女子坐在房中，会平安、安适之意。</p>
<p><strong>家</strong>：<br>    家，居也。<br>    “屋里有豕”为“家”。</p>
<p><strong>圣</strong>：<br>    圣，通也。<br>    圣，双耳畅通。<br>    甲骨文从耳，从口。<br>    原义是通达，延申指聪明、才智超群。在很早的时候人们传播知识、交流经验主要通过口耳相传，于是，只有善于聆听的人才能得到这么多的知识，故“圣”延申指博学多闻的人。</p>
<p><strong>拯</strong>：<br>    抍，上举也。<br>    原义是向上举，延申为援助、救济。</p>
<p><strong>报</strong>：<br>    报，当罪人也。<br>    报，判决罪人。甲骨文和金文左边是一个刑具，右边是一只手抓住一个人给其加上刑具的样子，会给人治罪之意。<br>    “报”的原义是按律判决罪人。例如《韩非子》：“报而罪之。” 意思是判决而治他的罪。判决罪人需要告知上级审批，故延申指告诉、告知。例如“通报”、“报警”。也引申为报答，例如”投桃报李“。<br>    好的回报是报答，但恶的回报就是报复了，所以”报“又指报复。例如”报仇雪耻“。也引申指由某种行为得到的结果。例如”善有善报“。</p>
<p><strong>莠</strong>：<br>    莠，禾粟下生莠。<br>    莠，是在禾粟之间生长的似禾非禾的东西叫“莠”。<br>    “莠”的原义是一种田间生长的外形似禾苗的杂草，其穗上似狗尾巴的毛，也叫狗尾巴草。例如《诗经》：“惟莠骄骄。” 意思是只有莠草长得十分茂盛。莠会妨碍禾苗生长，故延申成恶草的通称。也引申为坏、恶。例如“良莠不齐”。 </p>
<p><strong>英</strong>：<br>    英，草荣而不实者。<br>    英，草只开花却不结实。<br>    “英”的原义是花。如《桃花源记》：“芳草鲜美，落英缤纷。”<br>    花是美好的，厮役延申成美好、杰出、优异。</p>
<p><strong>萌</strong>：<br>    萌，草芽也。<br>    “萌”的原义是草木的芽。延申指发芽；又引喻事情刚刚显露的发展趋势或者情况、开端。例如《韩非子》：“圣人见微以知萌，见端以知末。” 又指开始发生。例如“萌动”。</p>
<p><strong>大</strong>：<br>    大，天大，地大，人亦大。故大象人形。<br>    “大”是象形字。甲骨文、金文、小篆的形状全部似一个正面站立、张开双手双脚的人的形象。<br>    “大”的原义是人。人为“万物之灵”，上古以人为大，故延申为“大小”之“大”。也引申表示重要、重大。</p>
<p><strong>太</strong>：<br>    “太”是象形字。甲骨文中的“太”字就是“大”形，似正面站立的人形。金文下面增加了一个曲笔，以与“大”相区别。隶变以后楷书写成“太”。<br>    “太”是在“大”的基础上再加了一点而形成的，故延申成过于。如杜甫《新婚别》：“暮婚晨告别，无乃太匆忙！” 延申为最、极。进而延申指身份最高或者辈分更高的。例如”太公“、”太后“。</p>
<p><strong>天</strong>：<br>    天，颠也。至高无上，从一大<br>    天，头顶。<br>    ”天“的原义是人的头顶；两眉之间，称为”天庭“。人至高无上的部分为”天“（头），自然界至高无上的部分也为“天”。</p>
<p><strong>夫</strong>：<br>    夫，丈夫也。从大，一以象簪也。周制以八寸为尺、十尺为丈。人长八尺，故曰丈夫。<br>    夫，成年男子。从大，一用以似成年男子头发上的簪子之形。</p>
<p><strong>君</strong>：<br>    君，尊也。从尹，发号，故从口。</p>
<p><strong>混</strong>：<br>    混，丰流也。从水昆声。<br>    混，盛大的水流。<br>    “混”的原义是水势盛大。水大则泥多，容易浑浊，故延申指浑浊，水多泥、多杂质而不清澈。进而延申指糊涂、不懂事。</p>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>说文解字</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>说文解字第四册笔记</title>
    <url>/posts/da100df3/</url>
    <content><![CDATA[<p><strong>羁</strong>：<br>    羁，马络头也。<br>    原义是马络头。进而延申指用笼头系住马头。<br>    由络马头延申为束缚。例如“放荡不羁”。</p>
<p><strong>益</strong>：<br>    益，饶也。<br>    甲骨文从皿，“皿”上有很多“水”，会水太多而流出盆外之意。</p>
]]></content>
      <categories>
        <category>杂学旁收</category>
        <category>说文解字</category>
      </categories>
      <tags>
        <tag>杂学旁收</tag>
      </tags>
  </entry>
  <entry>
    <title>谷歌浏览器常用快捷键</title>
    <url>/posts/31e31a23/</url>
    <content><![CDATA[<p>官方网址 [Chrome 键盘快捷键]（<a href="https://support.google.com/chrome/answer/157179?hl=zh-Hans%EF%BC%89">https://support.google.com/chrome/answer/157179?hl=zh-Hans）</a></p>
<h2 id="标签页和宽口快捷键"><a href="#标签页和宽口快捷键" class="headerlink" title="标签页和宽口快捷键"></a>标签页和宽口快捷键</h2><ul>
<li>ctrl+n  打开新窗口</li>
<li>ctrl+t  打开新的标签页</li>
<li>ctrl+tab 跳到下一个标签页</li>
<li>ctrl+w 关闭当前标签页（等于鼠标中键点击标签页）</li>
<li>ctrl+shift+w 关闭当前窗口</li>
</ul>
<h2 id="功能快捷键"><a href="#功能快捷键" class="headerlink" title="功能快捷键"></a>功能快捷键</h2><ul>
<li>ctrl+shift+o 打开书签</li>
<li>ctrl+h 历史</li>
<li>ctrl+j 下载</li>
<li>F5 刷新</li>
<li>F11 全屏（如看文献时）</li>
</ul>
<h2 id="地址栏快捷键"><a href="#地址栏快捷键" class="headerlink" title="地址栏快捷键"></a>地址栏快捷键</h2><ul>
<li>ctrl+l 跳到地址栏</li>
<li>ctrl+enter 为输入地址默认添加www.和.com</li>
</ul>
<h2 id="网页快捷键"><a href="#网页快捷键" class="headerlink" title="网页快捷键"></a>网页快捷键</h2><p>ctrl+d 将当前页面保存为书签<br>ctrl+p 打印当前页面（可以将当前页面保存为pdf）<br>ctrl+u 显示html源代码</p>
]]></content>
      <tags>
        <tag>软件学习</tag>
      </tags>
  </entry>
  <entry>
    <title>鸟叔的linux私房菜学习笔记</title>
    <url>/posts/e552a718/</url>
    <content><![CDATA[<p>个人感觉，鸟叔讲得很细，但是这本书很难坚持看下去，本人都是挑着看的。</p>
<h1 id="第零章、计算机概论"><a href="#第零章、计算机概论" class="headerlink" title="第零章、计算机概论"></a>第零章、计算机概论</h1><p>中央处理器（Central Processing Unit,cpu ）,主要工作是<strong>管理</strong>和<strong>运算</strong>，cpu读取的所有数据均来自于内存，处理后的数据也必须先写回内存。<br>cpu 32位与64位：内存每次传给CPU的数据量，32bit 还是 64bit。所以说64位比32位，内存传给CPU的数据量翻了一倍。<br><strong>双通道</strong>：一条总线的带宽是64位，那么两个就是128位，所以双内存更快。最好两个内存的型号都完全一致。有的主板四条内存插槽的颜色不一样，需要两根容量相同的内存插在相同颜色的插槽当中，才能启用双通道。<br><strong>CPU第二层高速缓存内存</strong>：对于一些很常用的程序或数据可以放置在CPU内部，那么CPU就不用去内存读取数据了，这就是CPU第二层高速缓存的设计概念。</p>
<h3 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h3><p>鸟叔的这张图相当形象了。<br><img src="encoding.png"></p>
<h3 id="机器语言与高阶程序语言"><a href="#机器语言与高阶程序语言" class="headerlink" title="机器语言与高阶程序语言"></a>机器语言与高阶程序语言</h3><p><img src="bianyi.png"></p>
<h1 id="linux是什么与如何学习"><a href="#linux是什么与如何学习" class="headerlink" title="linux是什么与如何学习"></a>linux是什么与如何学习</h1><blockquote>
<p>鸟哥上课时，常常有学生问到：“老师，到底要听过你的课几次之后，才能学的会？”鸟 哥的标准答案是：“你永远学不会！”。<strong>因为你是用“听”的，没有动手做</strong>，那么永远不会知道“经 验”两个字怎么写!<br>windows救命三键（Ctrl+Alt+Delete）</p>
</blockquote>
<h1 id="首次登录"><a href="#首次登录" class="headerlink" title="首次登录"></a>首次登录</h1><ul>
<li>shell中通过<strong>空格</strong>来区分命令，但是多个空格仍只会视为一个空格。</li>
<li><strong>tab</strong>：一次tab键<strong>命令补全</strong>，两次tab显示所有以输入字符开头的命令</li>
<li>ctrl+c：结束正在运行的命令</li>
<li><strong>ctrl+d</strong>：直接离开命令行（相当于exit) </li>
<li>shift+pageUp/pageDown：返回上次命令输出结果（相当于用鼠标滑轮）。</li>
</ul>
<h3 id="帮助文档"><a href="#帮助文档" class="headerlink" title="帮助文档"></a>帮助文档</h3><ul>
<li>date <strong>–help</strong>: 简短说明</li>
<li><strong>man</strong> date: 详细说明。输入**/string<strong>，向下搜寻string这个字符串。输入</strong>?string**，向上搜索。</li>
</ul>
<h3 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h3><ul>
<li>r(read) : 可读取此文件的内容</li>
<li>w(write): 可以修改文件内容（但不能删除该文件）</li>
<li>x(execute): 可以被系统执行</li>
</ul>
<h3 id="目录权限"><a href="#目录权限" class="headerlink" title="目录权限"></a>目录权限</h3><ul>
<li>r(read) : 可读取该目录结构，即查询该目录下的文件名数据，可以使用ls命令。</li>
<li>**w(write)**：可执行操作如下<ul>
<li>创建新的文件和目录</li>
<li><strong>删除</strong>已存在的文件或目录</li>
<li>将已存在的文件或目录进行更名</li>
<li>移动该目录下的文件、目录位置</li>
</ul>
</li>
<li>x(execute): 能否进入该目录，使之成为工作目录<br>目录当然没有所谓的<strong>执行</strong>能力，这里的执行权限是指能不能直接进入该目录，用命令来说，就是能不能cd到该目录。<strong>如果不给x权限，w权限也没办法实现</strong></li>
</ul>
<h3 id="权限管理总结"><a href="#权限管理总结" class="headerlink" title="权限管理总结"></a>权限管理总结</h3><p>需要给别人浏览的文件，<strong>目录</strong>需要提供<strong>r</strong>和<strong>x</strong>权限，<strong>文件</strong>需提供<strong>r</strong>权限。<strong>w</strong>权限需谨慎开放。</p>
<h1 id="Linux文件与目录管理"><a href="#Linux文件与目录管理" class="headerlink" title="Linux文件与目录管理"></a>Linux文件与目录管理</h1><h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p>通过<strong>echo $PATH</strong> 查看环境变量。设置环境变量的作用：运行程序时不用加路径，比如直接写plink，而不用写./plink。</p>
<ul>
<li>所有用户在PATH变量中都有/bin 或 /usr/bin 这个目录。这两个目录是一样的，因为/bin 是 /usr/bin的链接。</li>
<li>环境变量有<strong>顺序</strong>的区别，系统会按照顺序依次查找各个文件夹</li>
<li>添加环境目录<ul>
<li>把当前的目录放入环境变量中。参考以下网页<a href="https://blog.csdn.net/yi412/article/details/11523525">linux 环境变量设置（临时 + 永久）</a>。</li>
<li>将程序或链接放在已在环境变量的目录中。个人常用，感觉更简单。</li>
</ul>
</li>
</ul>
<h2 id="查找文件"><a href="#查找文件" class="headerlink" title="查找文件"></a>查找文件</h2><ul>
<li><strong>which</strong> 在PATH变量中搜索，并返回第一个搜索结果。 -a 列出所有结果</li>
<li><strong>whereis</strong> 只在特定的几个目录查找文件，感觉不实用。可以通过whereis -l 查看whereis查看的目录名称。</li>
<li><strong>locate</strong> 在数据库中查找，速度很快。但是数据库每天更新一次，因此最新创建的文件可能找不到，需要更新数据库（使用命令updatedb，需要root权限）。</li>
<li><strong>find</strong> 直接查找硬盘，速度慢。最后指定查找目录，缩小查找范围。</li>
</ul>
<h1 id="vim编辑器"><a href="#vim编辑器" class="headerlink" title="vim编辑器"></a>vim编辑器</h1><p>基本上 vi/vim 共分为三种模式，分别是一般模式或命令模式（Command mode），输入模式（Insert mode）和底线命令模式（Last line mode）。但其实底线命令模式也是在一般模式下输入的。</p>
<h2 id="一般模式（命令模式）"><a href="#一般模式（命令模式）" class="headerlink" title="一般模式（命令模式）"></a>一般模式（命令模式）</h2><ul>
<li><strong>/word</strong> <strong>向下</strong>寻找word（?word，向上）；通过<strong>n/N</strong>切换下（上）一个</li>
<li>:n1,n2s/word1/word2/g  从n1行到n2行查找word1,并替换为word2</li>
<li>1,$s/word1/word2/g   从第一行到最后一行查找替换</li>
</ul>
<h2 id="一般指令模式切换到编辑模式的可用的按钮说明"><a href="#一般指令模式切换到编辑模式的可用的按钮说明" class="headerlink" title="一般指令模式切换到编辑模式的可用的按钮说明"></a>一般指令模式切换到编辑模式的可用的按钮说明</h2><ul>
<li>:wq </li>
<li>:wq! 强制写入</li>
<li>:w [filename] 另存为</li>
<li>set nu/nonu  显示/不显示行号</li>
</ul>
<h1 id="认识和学习BASH"><a href="#认识和学习BASH" class="headerlink" title="认识和学习BASH"></a>认识和学习BASH</h1><h2 id="万用字符（wildcard）"><a href="#万用字符（wildcard）" class="headerlink" title="万用字符（wildcard）"></a>万用字符（wildcard）</h2><p>bash 支持万用字符（和正则表达式有区别），如用在ls命令中。<br><img src="wildcard.png"></p>
<h2 id="数据流重导向"><a href="#数据流重导向" class="headerlink" title="数据流重导向"></a>数据流重导向</h2><p>standard output（标准输出）和 standard error output （标准错误输出）<strong>默认打印在屏幕上</strong>。</p>
<ul>
<li>标准输入，输出，错误输出代码分别为0，1，2。</li>
<li><blockquote>
<blockquote>
<p>追加，当文件不存在时主动创建，存在时追加。</p>
</blockquote>
</blockquote>
</li>
</ul>
<p><img src="standard.png"></p>
<h2 id="amp-amp-与"><a href="#amp-amp-与" class="headerlink" title="&amp;&amp; 与 ||"></a>&amp;&amp; 与 ||</h2><p><img src="&&.png"></p>
<h2 id="管道命令"><a href="#管道命令" class="headerlink" title="管道命令"></a>管道命令</h2><p>管道命令仅会处理standard output，对于 standard error output 会予以忽略。<br><img src="pipe.png"></p>
<h1 id="shell-编程"><a href="#shell-编程" class="headerlink" title="shell 编程"></a>shell 编程</h1><p>shell 编程主要是用在<strong>系统管理</strong>上，不适合复杂的数据处理。</p>
<ul>
<li>多个空格视为一个空格</li>
<li>赋值（=）前后不能有空格</li>
<li>第一行必须为**/#!/bin/bash**，表明这个文件内的语法使用bash的语法</li>
<li>运行shell程序<ul>
<li>直接运行（首先具有rx权限）<ul>
<li>绝对路径：/home/dmtsai/shell.sh</li>
<li>相对路径：./shell.sh</li>
<li>PATH路径中：shell.sh</li>
</ul>
</li>
<li>以bash程序来执行（不需要权限，更方便）<ul>
<li>bash shell.sh 或 sh shell.sh </li>
</ul>
</li>
</ul>
</li>
<li>运行shell程序其实是在<strong>子程序</strong>的bash内执行的。（通过sourse命令在父程序中直接运行）<br><img src="sh.png"></li>
</ul>
<h1 id="账号管理"><a href="#账号管理" class="headerlink" title="账号管理"></a>账号管理</h1><h2 id="切换账号"><a href="#切换账号" class="headerlink" title="切换账号"></a>切换账号</h2><ul>
<li>su - 切换为root账号</li>
<li>su zhouzw 切换为普通账号</li>
</ul>
<h1 id="程序管理"><a href="#程序管理" class="headerlink" title="程序管理"></a>程序管理</h1><h2 id="工作管理（job-control）"><a href="#工作管理（job-control）" class="headerlink" title="工作管理（job control）"></a>工作管理（job control）</h2><p>通过<strong>jobs -l</strong> 可以查看使用&amp;放入后台的程序的PID，然后就可以用kill命令杀掉后台程序。kill命令一般不建议使用-9选项强制关闭。</p>
]]></content>
      <tags>
        <tag>软件学习</tag>
      </tags>
  </entry>
  <entry>
    <title>plink学习笔记</title>
    <url>/posts/def937d0/</url>
    <content><![CDATA[<p>最近看到一个个人网站，里面有句话如下。</p>
<blockquote>
<p>为什么我最近更新得这么勤，因为我在不断充电。</p>
</blockquote>
<p>嗯，保持充电确实很重要啊！记录并总结自己的学习过程也很重要！我之前学东西都是记在笔记本或者脑子里，但是都不牢靠。纸质的东西总是易于损坏、丢失的，人脑的记忆能力也是有限的，而且我写的字也很难看。这个时候，将笔记什么的电子化就很有优势了。我在想，与其先记在本子上，再转到电子形式，不如从现在就训练自己用直接markdown写东西、记东西。</p>
<p>本文主要是学习了plink1.07的官方文档  <a href="http://zzz.bwh.harvard.edu/plink/dist/plink-doc-1.07.pdf">plink-doc-1.07.pdf</a>，有些内容因为个人暂时用不上，就跳过了，详细内容可直接阅读该文档。</p>
<h1 id="第一部分-plink-入门-——-前三章"><a href="#第一部分-plink-入门-——-前三章" class="headerlink" title="第一部分 plink 入门 —— 前三章"></a>第一部分 plink 入门 —— 前三章</h1><p>ped文件前六列为家系ID，个体ID，父亲ID，母亲ID，性别（公1母2，其他为未知），表型（数量性状或疾病性状）。从第7列开始为基因型。ped不能有标题行。plink通过<strong>家系ID和个体ID</strong>来区分不同个体，即家系ID和个体ID不能都相同（但一般情况下要保持个体ID的唯一性）。<br>map文件由四列组成，第一列为染色体（常染色体从1开始编号，性染色体是X或Y，0表示未知），第二列是SNP名称，第三列是遗传图谱（摩尔根距离，单位是厘摩，cm，大部分分析都用不上），第四列是物理图谱（真实距离，单位是bp，正整数，低于人的染色体长度。如果为负数，该SNP将被plink剔除)。–map3选项表示map文件中没有第三列遗传图谱。</p>
<h2 id="ped表型格式-phenotype"><a href="#ped表型格式-phenotype" class="headerlink" title="ped表型格式 phenotype"></a>ped表型格式 phenotype</h2><p>疾病性状默认-9或0表示缺失，1表示未感染，2表示感染。可以使用–1选项，将-9认为缺失，0认为未感染，1认为感染。plink将性别不明的个体的表型也设置为缺失，可使用 –allow-no-sex禁止该现象。通过 –missing-phenotype -99 设置缺失表型值。<br>如果ped文件中的一个个体的两个标记之间没有空格（例AG，而不是A G），那么在读取数据时可使用–compound-genotypes选项</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;plink --file mydata --compound-genotypes &lt;&#x2F;tt&gt;</span><br></pre></td></tr></table></figure>
<p>plink支持以标准输入流形式读取ped文件（用-替代ped文件名），但是不适用map文件。代码如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.... | .&#x2F;plink --ped - --map mymap.map --make-bed</span><br></pre></td></tr></table></figure>

<h2 id="ped基因型格式-genotype"><a href="#ped基因型格式-genotype" class="headerlink" title="ped基因型格式 genotype"></a>ped基因型格式 genotype</h2><p>plink软件可以支持任何形式的SNP的编码，ATGC或1234都适用。plink 基因型缺失值格式默认为0，可通过–missing-genotype 修改缺失值。所有的标记都必须为<strong>双等位基因</strong>。<br>可以通过–output-missing-phenotype 和 –output-missing-genotype修改plink输出文件的默认缺失值格式<br>但需要输出新文件时（如生成二进制ped），plink通常会保留所有的基因型信息（即保持转换前后实际内容不变）。但是当使用plink进行统计和数据分析是，plink会对基因型数据进行筛选，将一部分基因型数据自动设置为缺失并剔除。</p>
<p>–file 需要ped和map文件名称相同。如果不加–out选项，默认名称均为plink。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file hapmap1</span><br></pre></td></tr></table></figure>
<h2 id="其他芯片文件格式-——-Transposed-filesets"><a href="#其他芯片文件格式-——-Transposed-filesets" class="headerlink" title="其他芯片文件格式 ——  Transposed filesets"></a>其他芯片文件格式 ——  Transposed filesets</h2><p>文档中提到有一种转置的ped文件类型，由tped文件和tfam文件构成。tped文件每一行是一个snp，前4列是map文件的内容，后面每两列是一个个体该SNP的基因型。tfam文件是原ped文件的前六列。<br>该文件可通过 –tfile 或 –tped –tfam读取，通过 –transpose 生成.<br><img src="/images/transpose_ped.png"></p>
<h2 id="其他芯片文件格式-——-Long-format-filesets"><a href="#其他芯片文件格式-——-Long-format-filesets" class="headerlink" title="其他芯片文件格式 —— Long-format filesets"></a>其他芯片文件格式 —— Long-format filesets</h2><p>该格式包括三个文件lgen文件，map文件（同上），fam文件（原ped文件的前六列）。lgen文件由5列组成，分别为家系ID，个体ID，snp名称，该snp的第一个等位基因，第二个等位基因。<br>该文件可以通过 –lfile 命令读取，并使用 –recode 转换为标准的ped文件。根据说明文档，目前plink不支持输出这种格式。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --lfile test --recode</span><br></pre></td></tr></table></figure>

<p><img src="/images/lgen_ped.png"></p>
<h2 id="额外的表型文件"><a href="#额外的表型文件" class="headerlink" title="额外的表型文件"></a>额外的表型文件</h2><p>除了在ped文件（或fam文件）中的第六列准备表型，plink还支持输入一个单独的表型文件（–pheno）。表型文件应包含三列，家系ID，个体ID，表型。但是ped文件中依然不能缺少第六列（虽然此时没有作用了）。</p>
<ul>
<li>如果ped中的个体没有出现在表型文件中，那么plink会将该个体的表型设为缺失。</li>
<li>表型文件中个体的顺序不需要按照ped文件的顺序。</li>
<li>如果表型文件表型文件中不止一列表型，此时使用–mpheno N命令来明确使用的是第N列表型。如下代码所示，pheno2.txt共7列（即有5列表型，暂命名为A,B,C,D,E），那么这里用的是第4列表型，即表型D。</li>
<li>表型文件默认没有标题行，如果有，那么前两个标题必须为FID和IID，此时指定表型列可直接使用标题，如 –pheno-name age</li>
<li>表型文件中所有表型必须为数值，缺失值默认为-9（可以通过–missing-phenotype设置）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file mydata --pheno pheno2.txt --mpheno 4</span><br></pre></td></tr></table></figure>


<h2 id="生成二进制文件"><a href="#生成二进制文件" class="headerlink" title="生成二进制文件"></a>生成二进制文件</h2><p>–make-bed 生成二进制ped文件，压缩数据大小，加快分析速度。该命令生成二进制文件时，不会根据missing rates或等位基因频率清洗任何SNP位点或个体。<br>该命令生成三个文件，bed文件为二进制的ped文件，bim为扩展的map文件（相较于原map文件，增加了两列，为每个SNP的等位基因名称），fam文件（ped文件的前六列）。这三个文件是配套的，<strong>不能修改bim文件和fam文件</strong>，否则可能会导致错误。<br>读取二进制文件，使用–bfile替代–file。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file val --make-bed</span><br></pre></td></tr></table></figure>
<h2 id="统计缺失率或基因分型率"><a href="#统计缺失率或基因分型率" class="headerlink" title="统计缺失率或基因分型率"></a>统计缺失率或基因分型率</h2><p>生成二进制文件后，可直接使用二进制文件来进行分析（–bfile），如通过–missing分析基因分型率call rate（或missing rate）。<br>生成missing_data.imiss和missing_data.lmiss文件（分别为个体的缺失情况文件和SNP位点的缺失情况文件，i和l为individual的individual和locus的缩写）。imiss文件中N_MISS列为该个体未测出的SNP数目，N_GENO为总的SNP数目，F_MISS为未检出的SNP所占比例。同样地，lmiss的最后三列分别为所有个体中该位点未检出个数，个体数，该位点未检出比例。<br>（注，plink会首先联网查找更新，如果服务器没联网或者运行时不需要联网，需要添加命令 –noweb。）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile plink --missing --out missing_data</span><br></pre></td></tr></table></figure>
<p>–chr 1 按不同染色体去运行plink命令。减少运算量。</p>
<h2 id="统计等位基因频率"><a href="#统计等位基因频率" class="headerlink" title="统计等位基因频率"></a>统计等位基因频率</h2><p>–freq 统计等位基因频率，生成frq文件。其中MAF为该snp位点最小等位基因频率<br>（在plink中，将基因频率较小的叫做A1，将基因频率较大的叫做A2）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --noweb --bfile plink --freq --out freq_stat</span><br></pre></td></tr></table></figure>
<p>对有群体分层现象的不同群体进行等位基因频率分析。下面pop.phe描述了不同个体所属的群体（cluster）情况，三列（家系ID，个体ID，所属群体）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --noweb --bfile plink --freq --within pop.phe --out freq_stat</span><br></pre></td></tr></table></figure>
<p>–snp rs1891905 选择特定的SNP进行分析。–window kb –from –to 选择一堆snp进行分析。</p>
<h2 id="基本关联分析"><a href="#基本关联分析" class="headerlink" title="基本关联分析"></a>基本关联分析</h2><p>基本关联分析 –assoc。（后面有关关联分析的内容没看，本人用不上。）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile plink --assoc --out as1</span><br></pre></td></tr></table></figure>

<h2 id="读取plink命令文件"><a href="#读取plink命令文件" class="headerlink" title="读取plink命令文件"></a>读取plink命令文件</h2><p>当plink命令较长时，可将plink命令写入一个文件中。运行 –script命令。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --script myscript1.txt</span><br></pre></td></tr></table></figure>
<p>myscript1.txt内容如下，每一行一个命令，以–开始。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">--ped ..\data\version1\50K\allsamples.ped</span><br><span class="line">--map ..\data\allmapfiles\finalversion\autosomal.map</span><br><span class="line">--out ..\results\working\sample-missingness-v1.22</span><br><span class="line">--from rs66537222</span><br><span class="line">--to rs8837323</span><br><span class="line">--geno 0.25</span><br><span class="line">--maf 0.02</span><br><span class="line">--missing</span><br></pre></td></tr></table></figure>

<h1 id="第二部分-plink-数据管理"><a href="#第二部分-plink-数据管理" class="headerlink" title="第二部分 plink 数据管理"></a>第二部分 plink 数据管理</h1><h2 id="recode"><a href="#recode" class="headerlink" title="recode"></a>recode</h2><p>对于ped文件，使用–recode命令，生成的文件与原文件内容相同，仅仅按snp所在染色体及真实位置进行了排序。个人理解，如果要重新生成ped格式的芯片文件，那么就需要使用–recode命令。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --noweb --file val --recode</span><br></pre></td></tr></table></figure>
<p>plink支持将二进制文件重新转为普通ped文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile mydata --recode</span><br></pre></td></tr></table></figure>
<p>使用–recode12 命令将会使基因型重编码为1和2（0依然表示未知）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --noweb --file val --recode12</span><br></pre></td></tr></table></figure>
<p>将ped基因型从ATGC转到1234，使用–allele1234（相反则用–alleleACGT）。注意，–allele1234必须配合–recode 或 –make-bed等生成文件命令或其他分析命令使用。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file val --recode --allele1234</span><br></pre></td></tr></table></figure>
<h2 id="生成snp-list文件"><a href="#生成snp-list文件" class="headerlink" title="生成snp list文件"></a>生成snp list文件</h2><p>按SNP的基因型排列 –list，生成list文件，格式为染色体-snp名称-基因型（双）-第一个个体的家系ID-第一个个体的个体ID-第二个个体……。可配合–snp命令，查看某个snp的基因型情况。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file val --list</span><br></pre></td></tr></table></figure>
<h2 id="更新covariate文件"><a href="#更新covariate文件" class="headerlink" title="更新covariate文件"></a>更新covariate文件</h2><p>重新生成covariate文件，当–covar 配合生成文件命令（–recode 或 –make-bed）。好处是当covariate文件包含个体多于芯片，或顺序不一致时，生成的新文件与芯片文件保持一致。(–write-cluster类似,形成新的cluster文件)</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --covar myfile.txt --recode</span><br></pre></td></tr></table></figure>
<h2 id="翻转部分的SNP-例A变成T-改为等位基因基因型"><a href="#翻转部分的SNP-例A变成T-改为等位基因基因型" class="headerlink" title="翻转部分的SNP(例A变成T,改为等位基因基因型)"></a>翻转部分的SNP(例A变成T,改为等位基因基因型)</h2><p>准备一个snp名称文件(只有一列,为需要转换的snp名称),list.txt。flip命令需配合–recode等生成文件命令使用。适用于当芯片出现正反链问题时。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --flip list.txt --recode</span><br></pre></td></tr></table></figure>
<p>当只对芯片中的一部分个体进行转换时，增加–flip-subset选项。mylist.txt为个体ID。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --flip list.txt --flip-subset mylist.txt --recode</span><br></pre></td></tr></table></figure>
<h2 id="合并两个芯片文件"><a href="#合并两个芯片文件" class="headerlink" title="合并两个芯片文件"></a>合并两个芯片文件</h2><p>合并两个芯片文件(merge 后面必须是ped map；–recode是必需的)。merge合并文件时，两个芯片文件的标记和个体之间可以是完全重合、部分重合甚至没有重合。文档中举例，如果一个snp只出现在第二个芯片文件中，那么第一个芯片文件中的个体（没出现在第二个文件）合并后该snp均为缺失。个人理解是，merge合并的文件应该会按照个体数最多、标记数最多的原则，所有不知道的位点全部设为缺失。<br>第二，在第一个文件中已经存在的标记数据，默认情况下不会被第二个文件覆盖。例如第一个文件某个体某snp为AA，第二个文件该个体该SNP为AG，最终合并文件中还是AA。覆盖情况可以通过–merge-mode调整。<br>第三，两个map同一个snp的物理位置需保持一致。<br>第四，两个芯片文件的snp编码方式要保持一致，不能一个ATGC，一个123。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data1 --merge data2.ped data2.map --recode --out merge</span><br></pre></td></tr></table></figure>
<p>merge命令可用于二进制文件，此时需用–bmerge，输出需用–make-bed</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile data1 --bmerge data2.bed data2.bim data2.fam --make-bed --out merge</span><br></pre></td></tr></table></figure>
<h2 id="合并多个芯片文件"><a href="#合并多个芯片文件" class="headerlink" title="合并多个芯片文件"></a>合并多个芯片文件</h2><p>使用–merge-list命令，需要准备文件，后面每一个芯片文件一行（可以为普通格式，也可以是二进制格式）。例如合并fA到fH的芯片文件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file fA --merge-list allfiles.txt --recode --out mynewdata</span><br></pre></td></tr></table></figure>
<p>allfiles.txt格式如下图<br><img src="/images/merge_list.png"></p>
<h2 id="提取SNPs的子集"><a href="#提取SNPs的子集" class="headerlink" title="提取SNPs的子集"></a>提取SNPs的子集</h2><h3 id="基于染色体"><a href="#基于染色体" class="headerlink" title="基于染色体"></a>基于染色体</h3><p>以下命令会默认生成6号染色体的二进制芯片文件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --chr 6</span><br></pre></td></tr></table></figure>
<p>如果想生成正常格式的芯片文件，增加recode命令</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --recode --chr 6 --out chr1</span><br></pre></td></tr></table></figure>
<h3 id="基于snp范围"><a href="#基于snp范围" class="headerlink" title="基于snp范围"></a>基于snp范围</h3><p>如果是挑一个范围内的所有标记（必须在同一条染色体）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile mydata --from rs273744 --to rs89883</span><br></pre></td></tr></table></figure>
<p>基于某个snp的上下游范围（–snp 和 –window)。以下命令将挑出rs652423上下游20kb的所有snp。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile mydata --snp rs652423 --window 20</span><br></pre></td></tr></table></figure>
<h3 id="基于染色体的物理位置（–from-kb-–to-kb）"><a href="#基于染色体的物理位置（–from-kb-–to-kb）" class="headerlink" title="基于染色体的物理位置（–from-kb –to-kb）"></a>基于染色体的物理位置（–from-kb –to-kb）</h3><p>以下命令为挑选2号染色体上5000kb到10000kb的所有snp。类似选项有–from-bp,–from-mb</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile mydata --chr 2 --from-kb 5000 --to-kb 10000</span><br></pre></td></tr></table></figure>
<h2 id="随机采样-–thin"><a href="#随机采样-–thin" class="headerlink" title="随机采样 –thin"></a>随机采样 –thin</h2><p>–thin 0.2 表示随机抽取20%的snp。</p>
<h2 id="基于给定文件挑选snp"><a href="#基于给定文件挑选snp" class="headerlink" title="基于给定文件挑选snp"></a>基于给定文件挑选snp</h2><p>以下命令中，mysnps.txt为snp名称，仅一列。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file --extract mysnps.txt --recode</span><br></pre></td></tr></table></figure>
<p>当添加–range命令时，此时添加的文件格式是染色体（空格）起始物理位置（单位bp）（空格）结束物理位置(单位bp) （空格）该范围名称。每一行（4列）表示一个范围。如下图所示。<br><img src="/images/extract_range.png"></p>
<h2 id="剔除部分snps-–exclude"><a href="#剔除部分snps-–exclude" class="headerlink" title="剔除部分snps –exclude"></a>剔除部分snps –exclude</h2><p>mysnps.txt为不需要的snp名称。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --exclude mysnps.txt --recode</span><br></pre></td></tr></table></figure>
<p>另外一种剔除方式是，在map文件中snp的物理位置设为负数（不适用于二进制文件）。</p>
<h2 id="挑出或移除部分个体"><a href="#挑出或移除部分个体" class="headerlink" title="挑出或移除部分个体"></a>挑出或移除部分个体</h2><p>以下命令中，mylist.txt前两列为家系号 个体号（后面可以有其他列，plink会忽视）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --keep mylist.txt --recode</span><br></pre></td></tr></table></figure>
<p>移除个体使用–remove命令，文件格式与上述一致。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --remove mylist.txt --recode</span><br></pre></td></tr></table></figure>
<h3 id="通过其他文件内容筛选个体"><a href="#通过其他文件内容筛选个体" class="headerlink" title="通过其他文件内容筛选个体"></a>通过其他文件内容筛选个体</h3><p>以下命令为挑选myfile.raw中第三列为1的个体。myfile.raw格式为三列，与表型文件、cluster文件格式一致，分别为家系ID 个体ID 自定义（如表型）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --filter myfile.raw 1 --freq</span><br></pre></td></tr></table></figure>
<p>如果给定文件中有多列，可以通过–mfilter指定列。以下命令便指定为fam文件中的表型（4表示前两列之后的第四列）</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile data --filter data.fam2 --mfilter 4</span><br></pre></td></tr></table></figure>
<p>plink 中衍生出各种filter的命令，提取不同条件的个体，如–filter-cases、–filter-controls、–filter-males、–filter-females、–filter-founders、–filter-nonfounders。</p>
<h3 id="通过其他文件内容筛选snp"><a href="#通过其他文件内容筛选snp" class="headerlink" title="通过其他文件内容筛选snp"></a>通过其他文件内容筛选snp</h3><p>类似上述，准备一个snp属性文件，第一列为snp名称，第二列及之后列为属性（空格分开，自定义）。</p>
<blockquote>
<p>一个snp可以有多个属性,也可以不接属性(即只有snp名称)<br>属性文件中不用包括所有的snp,也可以包含不在map中的snp(plink会忽视)<br>文件内容不需要顺序<br>每个snp只能占一行(即不能重复)<br>属性名称使用一个横杠,表示否定(exclude).可同时挑选多个属性,以逗号隔开.</p>
</blockquote>
<blockquote>
<p>多个属性条件时,默认是OR(或)逻辑;正负属性之间是and逻辑.<br>以下命令即为挑选含有exonic属性,但是不含有failed属性的snp</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">--attrib snps.txt exonic,-failed</span><br></pre></td></tr></table></figure>

<h1 id="第三部分-数据分析"><a href="#第三部分-数据分析" class="headerlink" title="第三部分 数据分析"></a>第三部分 数据分析</h1><h2 id="基因型缺失"><a href="#基因型缺失" class="headerlink" title="基因型缺失"></a>基因型缺失</h2><p>基本命令–missing<br><del>注意，结果文件lmiss和imiss文件都事先剔除了基因分型率小于90%的snp和个体（plink默认,可使用–mind 1保留所有个体）。如下图，imiss文件中N_GENO为50683（原map为50697个位点），这说明有14个snp位点因为分型率低于90%而被剔除。</del><br>之前说错了，plink新版本（1.04以后）已经不会默认按基因分型检出率或MAF剔除个体或snp了。后面检查，发现删除的14个snp均是Y染色体上的，具体原因不是很清晰（猜测是因为我用的ped性别一列均是0（实际都是母猪），plink估计会将这种性别未知或母猪的Y染色体的snp删除掉）。屏幕上打印的信息如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Warning: Nonmissing nonmale Y chromosome genotype(s) present; many commands treat these as missing.</span><br></pre></td></tr></table></figure>


<p><img src="/images/imiss.png"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --missing</span><br></pre></td></tr></table></figure>
<h2 id="bligatory-missing-genotypes"><a href="#bligatory-missing-genotypes" class="headerlink" title="bligatory missing genotypes"></a>bligatory missing genotypes</h2><p>这个不好翻译,文档中解释是有些snp位点不是因为基因分型失败,而是根本没检测。对于这种位点，我们可能希望不要删除这些位点（–geno）、或者因此而删除个体(–geno)。这个个人感觉还是比较实用，比如在合并不同map的芯片文件进行质控时。<br>以下命令中，test.clst为正常的三列cluster文件，三列（cluster名称自定义）。test.oblig文件指定缺失的snp,两列，第一列是snp名称，第二列是cluster名称，如下图。按文档的例子，个人理解为，cluster文件只需指定有指定缺失snp的个体即可。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file test --missing --oblig-missing test.oblig --oblig-clusters test.clst</span><br></pre></td></tr></table></figure>
<p><img src="/images/oblig.png"><br>注意</p>
<blockquote>
<p>该命令只对质控操作（–mind –geno）有效果，其他分析无效。<br>如果设定为缺失的snp实际有基因型，仍会设为缺失。</p>
</blockquote>
<h2 id="哈温平衡"><a href="#哈温平衡" class="headerlink" title="哈温平衡"></a>哈温平衡</h2><p>以下命令生成plink.hwe文件，格式如下图。最后四列是三种基因型的数目，观察到的杂合子频率，通过哈温平衡计算得到的理论杂合子概率，哈温平衡检验的p值。<br>文档中提出，只有founders（个人理解是系谱里的最古老的个体）才会进行哈温平衡。但是我们一般ped文件中父母都是未知（0），所以所有个体都会进行哈温平衡检验。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --hardy</span><br></pre></td></tr></table></figure>
<p><img src="/images/hwe.png"></p>
<h2 id="等位基因频率"><a href="#等位基因频率" class="headerlink" title="等位基因频率"></a>等位基因频率</h2><p>这个入门部分也有，使用–freq命令，生成frq文件，含有5列，分别为染色体、snp名称、A1(基因频率较小)、A2(等位基因频率较大)、MAF、无缺失的总的等位基因个数（小于等于2n,n为个体数）。</p>
<h2 id="孟德尔误差（Mendel-errors）"><a href="#孟德尔误差（Mendel-errors）" class="headerlink" title="孟德尔误差（Mendel errors）"></a>孟德尔误差（Mendel errors）</h2><p>本人对这个概念不是很清晰，从文档说明来看，大概是指根据父母的基因型推断的后代基因型与后代真实的基因型不符的情形，如父母都是AA，后代却是AB。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file data --mendel</span><br></pre></td></tr></table></figure>

<h2 id="性别确认"><a href="#性别确认" class="headerlink" title="性别确认"></a>性别确认</h2><p>通过X染色体的基因型数据确认ped文件中的性别列是否有误。结果文件sexcheck文件有6列，分别为家系ID，个体ID，ped文件中的性别（公1母2），通过X染色体确认的性别，匹配状态（PROBLEM or OK）,F(The actual X chromosome inbreeding (homozygosity) estimate)。</p>
<blockquote>
<p>如果ped文件中性别是0，也会显示不匹配（PROBLEM）<br>F如果大于0.8认为性别为公，如果小于0.2认为母（不懂F的概念）</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile data --check-sex</span><br></pre></td></tr></table></figure>
<p>–impute-sex命令可将基于SNP数据的性别修改ped文件中的性别，需要配合输出文件命令使用。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile data --impute-sex --make-bed --out newfile </span><br></pre></td></tr></table></figure>

<h2 id="PCA分析"><a href="#PCA分析" class="headerlink" title="PCA分析"></a>PCA分析</h2><p><a href="https://www.cog-genomics.org/plink/1.9/strat#pca">https://www.cog-genomics.org/plink/1.9/strat#pca</a></p>
<p>plink 用于作PCA分析，命令相当简单，就是加一个 –pca 就完事了</p>
<p>默认会输出20个主成分。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">--pca [count] [&#39;header&#39;] [&#39;tabs&#39;] [&#39;var-wts&#39;]</span><br><span class="line"></span><br><span class="line">--pca-cluster-names &lt;name(s)...&gt;</span><br><span class="line">--pca-clusters &lt;filename&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>count: 输出几个主成分，如 –pca 3 ，就是只要前3个主成分</li>
<li>header: eigenvec 文件加标题</li>
<li>tabs: 用tab 代替空格</li>
<li>var-wts:  You can request variant weights with the ‘<strong>var-wts</strong>‘ modifier（不懂）</li>
</ul>
<p>第二个和第三个命令是当聚类后，你可以只挑出某几个cluster的个体做分析，二者的区别在于–pca-cluster-names 后面直接跟cluster的名称（以空格分开），–pca-culsters 后面接cluster名称的文件名</p>
<h1 id="第四部分-质控（QC）"><a href="#第四部分-质控（QC）" class="headerlink" title="第四部分 质控（QC）"></a>第四部分 质控（QC）</h1><p>这一节对应文档的第6章，Inculsion thresholds，个人理解其实就是质控。这一节和上一节的数据分析的命令是有关联的，文档中用了一个图片说明，这里用一个表格说明。</p>
<table>
<thead>
<tr>
<th align="center">功能</th>
<th align="center">分析命令</th>
<th align="center">质控命令</th>
</tr>
</thead>
<tbody><tr>
<td align="center">个体基因分型缺失率</td>
<td align="center">–missing</td>
<td align="center">–mind N</td>
</tr>
<tr>
<td align="center">SNP基因分型缺失</td>
<td align="center">–missing</td>
<td align="center">–geno N</td>
</tr>
<tr>
<td align="center">等位基因频率</td>
<td align="center">–freq</td>
<td align="center">–mat N</td>
</tr>
<tr>
<td align="center">哈温平衡</td>
<td align="center">–hardy</td>
<td align="center">–hwe N</td>
</tr>
<tr>
<td align="center">孟德尔误差比例</td>
<td align="center">–mendel</td>
<td align="center">–me N M</td>
</tr>
</tbody></table>
<h2 id="默认质控"><a href="#默认质控" class="headerlink" title="默认质控"></a>默认质控</h2><p>高版本的plink（如1.9）已不会默认对个体或snp根据基因分型检出率或MAF进行质控。<br>–all 不剔除任何个体或SNP，等于–mind 1 –geno 1 –maf 0</p>
<h2 id="个体基因检出率"><a href="#个体基因检出率" class="headerlink" title="个体基因检出率"></a>个体基因检出率</h2><p>–mind 0.1 即剔除缺失率高于0.1的个体，或者说保留检出率高于0.9的个体。如果有个体被剔除，其个体信息保存在irem文件中<br>–mind 1 即不剔除任何个体。使用该命令载入数据时不会计算个体的检出率，提高plink读取文件速度。</p>
<h2 id="snp基因检出率"><a href="#snp基因检出率" class="headerlink" title="snp基因检出率"></a>snp基因检出率</h2><p>–geno 0.1 即剔除缺失率高于0.1的SNP，或者说保留检出率高于0.9的SNP。<br>注意：–geno 和 –maf命令执行优先程度低于–mind，也就是同用–mind和–geno时，会先剔除缺失率较高的个体，再计算SNP检出率。</p>
<h2 id="最小等位基因频率"><a href="#最小等位基因频率" class="headerlink" title="最小等位基因频率"></a>最小等位基因频率</h2><p>–maf 0.01 剔除MAF小于0.01的SNP</p>
<h2 id="哈温平衡-1"><a href="#哈温平衡-1" class="headerlink" title="哈温平衡"></a>哈温平衡</h2><p>–hwe 0.001 如果需要剔除不满足哈温平衡的位点，使用该选项。p值小于0.001的个体被剔除，具体信息可见控制台（屏幕打印出的信息）或log文件。</p>
<h2 id="孟德尔误差比例（Mendel-error-rate）"><a href="#孟德尔误差比例（Mendel-error-rate）" class="headerlink" title="孟德尔误差比例（Mendel error rate）"></a>孟德尔误差比例（Mendel error rate）</h2><p>只适用于family-based data。<br>–me 0.05 0.1 第一个参数表示孟德尔误差超过5%的家系会被剔除；第二个参数表示孟德尔误差超过10%的SNP会被剔除。目前plink是同时计算家系和SNP的孟德尔误差比例，未来可能有所修改。</p>
<h1 id="第五部分-plink群体分层分析（Stratification-analysis）和聚类分析（cluster-analysis）"><a href="#第五部分-plink群体分层分析（Stratification-analysis）和聚类分析（cluster-analysis）" class="headerlink" title="第五部分 plink群体分层分析（Stratification analysis）和聚类分析（cluster analysis）"></a>第五部分 plink群体分层分析（Stratification analysis）和聚类分析（cluster analysis）</h1><h2 id="一般聚类"><a href="#一般聚类" class="headerlink" title="一般聚类"></a>一般聚类</h2><p>根据IBS（identity-by-state,同态相同）进行聚类分析。基本命令如下，生成cluster0、cluster1、cluster2、cluster3四个文件，这四个文件内容一致，但格式不同（一般只用cluster1和cluster2）。</p>
<blockquote>
<p>cluster1文件是最直接的cluster结果文件，每一行是一个cluster，第一列SOL-0(估计是plink起的cluster名称)，后面就是每个cluster的个体（家系号_个体号）。<br>cluster2文件是用来给plink读取的（使用–within *.cluster2）。格式为标准的三列，家系ID，个体ID，所属cluster。<br>聚类时间与个体数有关。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile plink --cluster</span><br></pre></td></tr></table></figure>

<h2 id="加限制条件"><a href="#加限制条件" class="headerlink" title="加限制条件"></a>加限制条件</h2><p>–cluster –mc 每个cluster最大的个体数量<br>–ppc 0.05（pairwise population concordance） 当两个个体之间属于相同组的概率小于0.05时不进行合并（即设定P值）。<br>结果文件是cluster1文件，每一行是一个cluster。第一列SOL-0什么的不用管，后面就是每个cluster的个体（家系号和个体号）。cluster2和cluster1内容一样，格式不同，cluster有三列，分别为家系号、个体号、所属cluster（cluster2 用于plink读取，–within plink）。<br>可以通过–K（大写）选项设定cluster 的数目。但是这时不能再设定ppc。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --noweb --bfile plink --cluster --mc 10 --ppc 0.05 --out str1</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --noweb --bfile plink --cluster --K 2 --out str2</span><br></pre></td></tr></table></figure>

<p>如果个体比较多，而且需要按不同条件进行多次聚类时，可按如下命令操作，节约时间。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --bfile mydata --genome --out mydata</span><br><span class="line">plink --bfile mydata --read-genome mydata.genome --cluster --ppc 0.01</span><br><span class="line">plink --bfile mydata --read-genome mydata.genome --cluster --mc 2 --ibm 0.01</span><br></pre></td></tr></table></figure>
<h2 id="IBS-similarity-matrix"><a href="#IBS-similarity-matrix" class="headerlink" title="IBS similarity matrix"></a>IBS similarity matrix</h2><p>添加–matrix命令，生成mibs文件，为方阵形式，内容为所有个体两两之间的同态相同的比例（0-1）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file mydata --cluster --matrix</span><br></pre></td></tr></table></figure>
<p>通过R画图来具体描述群体结构（适合芯片中存在几个群体的情况，手册中是前45个个体是中国人，后44个是日本人）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --noweb --bfile plink --cluster --matrix --out ibd_view</span><br></pre></td></tr></table></figure>
<p>生成ibd_view.mibs文件（手册上写的是mdist文件)，在R中读取该文件，画图步骤如下。<br>个人尝试了一下，使用这种方式画图，和PCA画图结果差不多。</p>
<figure class="highlight r"><table><tr><td class="code"><pre><span class="line">m &lt;- as.matrix(read.table(<span class="string">&quot;ibd_view.mibs&quot;</span>))</span><br><span class="line">mds &lt;- cmdscale(as.dist(<span class="number">1</span>-m))</span><br><span class="line">k &lt;- <span class="built_in">c</span>( <span class="built_in">rep</span>(<span class="string">&quot;green&quot;</span>,<span class="number">100</span>) , <span class="built_in">rep</span>(<span class="string">&quot;blue&quot;</span>,<span class="number">222</span>) )</span><br><span class="line">plot(mds,pch=<span class="number">20</span>,col=k)</span><br></pre></td></tr></table></figure>

<h1 id="第六部分-IBS-IBD-估计"><a href="#第六部分-IBS-IBD-估计" class="headerlink" title="第六部分 IBS/IBD 估计"></a>第六部分 IBS/IBD 估计</h1><p>通过估计芯片个体间的IBS和IBD情况，可以用来检测测序时样品污染，重复样一致性，系谱错误以及发现未知的亲缘关系。</p>
<h2 id="配对的IBD估计"><a href="#配对的IBD估计" class="headerlink" title="配对的IBD估计"></a>配对的IBD估计</h2><p>上一章说了个体间IBS的估计以及根据IBS划分cluster，我们可以检测个体间的IBD情况。以下命令生成genome文件，文件格式如下图。需要关注的是PI_HAT（这个指标就是两个个体IBD相同的大小），<br>使用–Z-genome会生成压缩文件plink.genome.gz，–read-genome也可以直接读取压缩的genome文件。<br>注意：IBD分析前需要进行群体分层分析。而且ped文件中的家系ID、父本ID、母本ID应该要完整。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file mydata --genome</span><br></pre></td></tr></table></figure>
<p><img src="/images/genome.png"><br>如果只计算同一个家系的IBD（家系按照ped文件中的系谱划分），使用命令–rel-check，会大大加快速度，不用每两个个体都要计算。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file mydata --genome --rel-check</span><br></pre></td></tr></table></figure>
<p>通过–min x挑选结果中PI_HAT大于x的结果。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file mydata --genome --min 0.05</span><br></pre></td></tr></table></figure>
<h2 id="估计近交系数"><a href="#估计近交系数" class="headerlink" title="估计近交系数"></a>估计近交系数</h2><p>不是很清楚原理，文档中说based on the observed versus expected number of homozygous genotypes<br>以下命令生成het文件，格式如下图</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">plink --file mydata --het</span><br></pre></td></tr></table></figure>
<p><img src="/images/het.png"></p>
]]></content>
      <tags>
        <tag>数据分析</tag>
        <tag>软件学习</tag>
        <tag>生物信息</tag>
      </tags>
  </entry>
</search>
